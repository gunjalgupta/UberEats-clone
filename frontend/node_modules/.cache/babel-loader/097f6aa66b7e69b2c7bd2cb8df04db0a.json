{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import axios from'axios';import'./Profilepic.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function postImages(_x){return _postImages.apply(this,arguments);}function _postImages(){_postImages=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref){var image,customerId,formData,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:image=_ref.image,customerId=_ref.customerId;formData=new FormData();formData.append(\"image\",image);formData.append(\"customerId\",customerId);_context2.next=6;return axios.post('http://localhost:8081/images',formData,{headers:{'Content-Type':'multipart/form-data'}});case 6:result=_context2.sent;console.log(\"result\",result);localStorage.setItem('cuspkey',result.data.key);return _context2.abrupt(\"return\",result.data);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _postImages.apply(this,arguments);}var Profilepic=function Profilepic(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var submit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();result=postImages({image:file,customerId:JSON.parse(localStorage.getItem(\"customer\")).customerId});setImages([result.image].concat(_toConsumableArray(images)));case 3:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x2){return _ref2.apply(this,arguments);};}();var fileSelected=function fileSelected(event){var fil=event.target.files[0];setFile(fil);};return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"profile_chose\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:fileSelected,type:\"file\",accept:\"image/*\",className:\"profile_browse\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"profile_button\",children:\"Submit\"})]})});};export default Profilepic;","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/Profilepic.js"],"names":["React","useState","axios","postImages","image","customerId","formData","FormData","append","post","headers","result","console","log","localStorage","setItem","data","key","Profilepic","file","setFile","images","setImages","submit","event","preventDefault","JSON","parse","getItem","fileSelected","fil","target","files","display","justifyContent"],"mappings":"qpBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA6B,OAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,kBAAP,C,gGAEeC,CAAAA,U,0IAAf,iLAA2BC,KAA3B,MAA2BA,KAA3B,CAAiCC,UAAjC,MAAiCA,UAAjC,CACUC,QADV,CACqB,GAAIC,CAAAA,QAAJ,EADrB,CAEID,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBJ,KAAzB,EACAE,QAAQ,CAACE,MAAT,CAAgB,YAAhB,CAA8BH,UAA9B,EAHJ,uBAIyBH,CAAAA,KAAK,CAACO,IAAN,CAAW,8BAAX,CAA2CH,QAA3C,CACrB,CACII,OAAO,CAAE,CAAC,eAAgB,qBAAjB,CADb,CADqB,CAJzB,QAIUC,MAJV,gBAQIC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBF,MAAtB,EACAG,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAgCJ,MAAM,CAACK,IAAP,CAAYC,GAA5C,EATJ,iCAUWN,MAAM,CAACK,IAVlB,2D,6CAaA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAEvB,cAAwBjB,QAAQ,EAAhC,wCAAOkB,IAAP,eAAaC,OAAb,eACD,eAA4BnB,QAAQ,CAAC,EAAD,CAApC,yCAAOoB,MAAP,eAAeC,SAAf,eACC,GAAMC,CAAAA,MAAM,2FAAG,iBAAOC,KAAP,6HACXA,KAAK,CAACC,cAAN,GACMd,MAFK,CAEIR,UAAU,CAAC,CAACC,KAAK,CAACe,IAAP,CAAad,UAAU,CAAEqB,IAAI,CAACC,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,UAArB,CAAX,EAA6CvB,UAAtE,CAAD,CAFd,CAGXiB,SAAS,EAAEX,MAAM,CAACP,KAAT,4BAAmBiB,MAAnB,GAAT,CAHW,sDAAH,kBAANE,CAAAA,MAAM,8CAAZ,CAMA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,KAAD,CAAW,CAC9B,GAAMM,CAAAA,GAAG,CAAGN,KAAK,CAACO,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ,CACAZ,OAAO,CAACU,GAAD,CAAP,CACD,CAHD,CAIE,mBACI,YAAK,KAAK,CAAE,CACRG,OAAO,CAAE,MADD,CAERC,cAAc,CAAE,QAFR,CAAZ,uBAII,cAAM,QAAQ,CAAEX,MAAhB,CAAwB,SAAS,CAAC,eAAlC,wBACI,cAAO,QAAQ,CAAEM,YAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,MAAM,CAAC,SAAlD,CAA4D,SAAS,CAAC,gBAAtE,EADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,oBAFJ,GAJJ,EADJ,CAWH,CAzBD,CA4BA,cAAeX,CAAAA,UAAf","sourcesContent":["import React, {useState}from 'react';\nimport axios from 'axios';\nimport './Profilepic.css';\n\nasync function postImages({image,customerId}){\n    const formData = new FormData();\n    formData.append(\"image\", image)\n    formData.append(\"customerId\", customerId)\n    const result = await axios.post('http://localhost:8081/images', formData, \n    { \n        headers: {'Content-Type': 'multipart/form-data'}\n    })\n    console.log(\"result\", result)\n    localStorage.setItem('cuspkey', result.data.key);\n    return result.data;\n}\n\nconst Profilepic = () => {\n    \n  const [file, setFile] = useState();\n const [images, setImages] = useState([])\n  const submit = async (event) => {\n      event.preventDefault()\n      const result = postImages({image:file, customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId})\n      setImages([result.image, ...images])\n  }\n\n  const fileSelected = (event) => {\n    const fil = event.target.files[0]\n    setFile(fil)\n  }\n    return (\n        <div style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n        }}>\n            <form onSubmit={submit} className=\"profile_chose\">\n                <input onChange={fileSelected} type=\"file\" accept=\"image/*\" className=\"profile_browse\"></input>\n                <button type=\"submit\" className=\"profile_button\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\n\nexport default Profilepic;"]},"metadata":{},"sourceType":"module"}