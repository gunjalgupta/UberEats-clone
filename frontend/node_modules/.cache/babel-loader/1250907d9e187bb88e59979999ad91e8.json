{"ast":null,"code":"var _jsxFileName = \"/Users/gunjalgupta/Desktop/ubereatss/frontend/src/restaurant/AllOrders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { useDispatch } from \"react-redux\";\nimport { logoutRestaurant } from \"../actions/resActions\";\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AllOrders() {\n  _s();\n\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(AddBox, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 41\n    }, this)),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Check, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 43\n    }, this)),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 43\n    }, this)),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(DeleteOutline, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 44\n    }, this)),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 49\n    }, this)),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Edit, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 42\n    }, this)),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(SaveAlt, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 44\n    }, this)),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FilterList, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 44\n    }, this)),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(FirstPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 47\n    }, this)),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(LastPage, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 46\n    }, this)),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronRight, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 46\n    }, this)),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ChevronLeft, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 50\n    }, this)),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Clear, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 49\n    }, this)),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Search, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 44\n    }, this)),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ArrowDownward, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 47\n    }, this)),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(Remove, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 53\n    }, this)),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/_jsxDEV(ViewColumn, { ...props,\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 48\n    }, this))\n  };\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [data, setData] = useState([]);\n  const [headbg, setheadbg] = useState('transparent');\n  const [shadow, setshadow] = useState('none');\n  window.addEventListener('scroll', () => {\n    if (window.scrollY >= 50) {\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n    } else {\n      setheadbg('transparent');\n      setshadow('none');\n    }\n  });\n\n  function signout() {\n    dispatch(logoutRestaurant());\n    localStorage.setItem(\"restaurant\", null);\n    history.push(\"/\");\n  }\n\n  useEffect(() => {\n    const restaurantId = JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n    axios.post(`http://localhost:8081/order/getresorders/${restaurantId}`, {}).then(responseData => {\n      console.log(\"res\", responseData);\n\n      if (responseData.data.error) {\n        console.log(\"res\", responseData); // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        //setcustomerData(responseData.data)\n        setData(responseData.data);\n        console.log(\"restaurant\", responseData.data); //console.log(\"resss \",customerData);\n        //localStorage.setItem(\"restaurant\", JSON.stringify(responseData.data));\n      }\n    });\n  }, [data.ostatus]);\n  const [columns, setColumns] = useState([{\n    title: 'Invoice number',\n    field: 'orderId',\n    editable: 'never'\n  }, {\n    title: 'Customer name',\n    field: 'cname',\n    editable: 'never'\n  }, {\n    title: 'Email',\n    field: 'email',\n    initialEditValue: 'initial edit value',\n    editable: 'never'\n  }, {\n    title: 'Contact Number',\n    field: 'mobileNo',\n    type: 'numeric',\n    editable: 'never'\n  }, {\n    title: 'Order Status',\n    field: 'ostatus',\n    lookup: {\n      \"placed\": 'Placed',\n      \"Preparing\": 'Preparing'\n    }\n  }]);\n\n  const saveStatus = async (ostatus, orderId) => {\n    const req = {\n      ostatus: ostatus,\n      orderId: orderId\n    }; //const restaurantId =1\n\n    await axios.post(\"http://localhost:8081/order/status\", req).then(responseData => {\n      if (responseData.data.error) {\n        console.log(\"res\", responseData); // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        console.log(\" dishes\", responseData.data); //setcustomerData(responseData.data)\n        //setDishes(responseData.data)\n        //console.log(\"resss \",customerData);\n        //localStorage.setItem('dish', JSON.stringify(responseData.data));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__upper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__upperheader\",\n        style: {\n          backgroundColor: headbg,\n          boxShadow: shadow\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__upperheaderleft\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",\n            alt: \"uber eats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__upperheaderright\",\n          onClick: signout,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Sign out \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingTop: 90,\n        paddingLeft: 20,\n        paddingRight: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(MaterialTable, {\n        icons: tableIcons,\n        title: \"All Orders\",\n        columns: columns,\n        data: data,\n        cellEditable: {\n          onCellEditApproved: (newValue, oldValue, rowData, columnDef) => {\n            return new Promise((resolve, reject) => {\n              console.log('newValue: ' + newValue);\n              console.log('newValue: ' + rowData.orderId);\n              saveStatus(newValue, rowData.orderId);\n              setTimeout(resolve, 1000);\n            });\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 8\n  }, this);\n}\n\n_s(AllOrders, \"0Qzpk2q4MlIrmInOY6KWFo2klTg=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = AllOrders;\nexport default AllOrders;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllOrders\");","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/restaurant/AllOrders.js"],"names":["React","useEffect","useState","MaterialTable","forwardRef","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","useDispatch","logoutRestaurant","BrowserRouter","Router","useHistory","axios","AllOrders","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","history","dispatch","data","setData","headbg","setheadbg","shadow","setshadow","window","addEventListener","scrollY","signout","localStorage","setItem","push","restaurantId","JSON","parse","getItem","post","then","responseData","console","log","error","ostatus","columns","setColumns","title","field","editable","initialEditValue","type","lookup","saveStatus","orderId","req","backgroundColor","boxShadow","paddingTop","paddingLeft","paddingRight","onCellEditApproved","newValue","oldValue","rowData","columnDef","Promise","resolve","reject","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from \"react\";\nimport MaterialTable from \"material-table\";\nimport { forwardRef } from 'react';\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { useDispatch } from \"react-redux\";\nimport { logoutRestaurant } from \"../actions/resActions\";\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom'\nimport axios from \"axios\";\n\n\n\nfunction AllOrders() {\n    const tableIcons = {\n        Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n        Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n        Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n        Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n        DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n        Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n        Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n        Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n        FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n        LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n        NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n        PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n        ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n        Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n        SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n        ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n        ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n      };\n\n    const history = useHistory()\n    const dispatch = useDispatch()\n    const [data, setData] = useState([])\n\n    const [headbg,setheadbg]=useState('transparent');\n    const [shadow,setshadow]=useState('none');\n\n\n\n  window.addEventListener('scroll',()=>{\n    if(window.scrollY>=50){\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n\n    }\n    else{\n      setheadbg('transparent');\n      setshadow('none');\n     \n\n\n    }\n  })\n\n  function signout(){\n    dispatch(logoutRestaurant());\n    localStorage.setItem(\"restaurant\",null);\n    history.push(\"/\")\n  }\n\n  useEffect(()=>{\n    const restaurantId =  JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n    axios\n    .post(`http://localhost:8081/order/getresorders/${restaurantId}`, {})\n    .then((responseData) => {\n      console.log(\"res\", responseData);\n      if (responseData.data.error) {\n        console.log(\"res\", responseData);\n        // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        //setcustomerData(responseData.data)\n        setData(responseData.data);\n        console.log(\"restaurant\", responseData.data);\n        //console.log(\"resss \",customerData);\n        //localStorage.setItem(\"restaurant\", JSON.stringify(responseData.data));\n      }\n    });\n\n  },[data.ostatus])\n  \n    const [columns, setColumns] = useState([\n      { title: 'Invoice number', field: 'orderId' ,editable: 'never'},\n      { title: 'Customer name', field: 'cname' ,editable: 'never'},\n      { title: 'Email', field: 'email', initialEditValue: 'initial edit value' , editable: 'never'},\n      { title: 'Contact Number', field: 'mobileNo', type: 'numeric' , editable: 'never'},\n      {\n        title: 'Order Status',\n        field: 'ostatus',\n        lookup: { \"placed\": 'Placed', \"Preparing\": 'Preparing' },\n      },\n    ]);\n  \n    const saveStatus = async (ostatus,orderId) =>{\n        const req = { ostatus: ostatus,\n        orderId: orderId}\n        //const restaurantId =1\n        await axios.post(\"http://localhost:8081/order/status\",req)\n        .then(responseData => {\n            if (responseData.data.error) {\n                console.log(\"res\",responseData);\n               // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n            }\n            else {\n              console.log(\" dishes\",responseData.data)\n                    //setcustomerData(responseData.data)\n                    //setDishes(responseData.data)\n                    \n                    //console.log(\"resss \",customerData);\n                    //localStorage.setItem('dish', JSON.stringify(responseData.data));\n                \n            }\n        })\n  \n    }\n  \n    return (\n       <div>\n        <div className=\"header__upper\">\n           <div className=\"header__upperheader\"  style={{backgroundColor:headbg,boxShadow:shadow}}   >\n             <div className=\"header__upperheaderleft\">\n                <img\n                    src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                     alt=\"uber eats\" />\n            </div>\n            {/* <div className=\"header__upperheadercenter\"   >\n               <LocationOn />\n               <input type=\"text\" placeholder=\"What are you craving? \" />\n            </div> */}\n            \n            <div className=\"header__upperheaderright\" onClick={signout}>\n                 <p> Sign out </p>\n            </div>\n            {/* <div className=\"header__upperheaderright\">\n                 <p> Add dishes </p>\n            </div> */}\n           </div>\n        </div> \n      <div style={{paddingTop:90, paddingLeft:20, paddingRight:20}}>\n      <MaterialTable\n        icons={tableIcons}\n        title=\"All Orders\"\n        columns={columns}\n        data={data}\n        \n        cellEditable={{\n          onCellEditApproved: (newValue, oldValue, rowData, columnDef) => {\n            return new Promise((resolve, reject) => {\n              console.log('newValue: ' + newValue);\n              console.log('newValue: ' + rowData.orderId);\n              saveStatus(newValue, rowData.orderId)\n              setTimeout(resolve, 1000);\n            });\n          }\n        }}\n      />\n      </div> \n      </div>\n    )\n  }\n  \n  export default AllOrders;"]},"metadata":{},"sourceType":"module"}