{"ast":null,"code":"var _jsxFileName = \"/Users/gunjalgupta/Desktop/ubereatss/frontend/src/restaurant/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; //import React, { useState, useEffect, useContext } from 'react'\n\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport Dish from '../components/Resdishes';\nimport { Button } from 'react-bootstrap';\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom';\nimport Grid from '@mui/material/Grid';\nimport Restaurant from '../components/Restaurants';\nimport { Menu, LocationOn, WatchLater, ArrowDownward } from \"@mui/icons-material\";\nimport './Home.css';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport { experimentalStyled as styled } from '@mui/material/styles';\nimport { useDispatch } from \"react-redux\";\nimport { logoutRestaurant } from \"../actions/resActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [customerData, setcustomerData] = useState([]);\n  const [restaurant, setRestaurant] = useState([]);\n  const [dishes, setDishes] = useState([]);\n  const [image, setImage] = useState([]);\n  const [headbg, setheadbg] = useState('transparent');\n  const [shadow, setshadow] = useState('none');\n  const [inputdisplay, setinputdisplay] = useState(0);\n  window.addEventListener('scroll', () => {\n    if (window.scrollY >= 50) {\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n      setinputdisplay(1);\n    } else {\n      setheadbg('transparent');\n      setshadow('none');\n      setinputdisplay(0);\n    }\n  });\n\n  function signout() {\n    dispatch(logoutRestaurant());\n    localStorage.setItem(\"restaurant\", null);\n    history.push(\"/\");\n  }\n\n  const Item = styled(Paper)(({\n    theme\n  }) => ({ ...theme.typography.body2,\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  }));\n  useEffect(() => {\n    getDishes();\n    getRestaurant();\n  }, []);\n\n  const getDishes = async () => {\n    const restaurantId = JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId; //const restaurantId =1\n\n    await axios.post(`http://localhost:8081/restaurant/getdish/${restaurantId}`, {}).then(responseData => {\n      if (responseData.data.error) {\n        console.log(\"res\", responseData); // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        console.log(\" dishes\", responseData.data); //setcustomerData(responseData.data)\n\n        setDishes(responseData.data); //console.log(\"resss \",customerData);\n        //localStorage.setItem('dish', JSON.stringify(responseData.data));\n      }\n    });\n  };\n\n  const getRestaurant = async () => {\n    const restaurantId = JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId; //const restaurantId =1\n\n    await axios.post(`http://localhost:8081/restaurant/profile/${restaurantId}`, {}).then(responseData => {\n      console.log(\"res\", responseData);\n\n      if (responseData.data.error) {// M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        //setcustomerData(responseData.data)\n        setRestaurant(responseData.data);\n        console.log(\"restaurant\", responseData.data); //console.log(\"resss \",customerData);\n\n        localStorage.setItem('restaurant', JSON.stringify(responseData.data));\n      }\n    });\n  };\n\n  const deleteDish = id => {\n    axios.post(`http://localhost:8081/restaurant/deletedish/${id}`, {}).then(responseData => {\n      if (responseData.data.error) {// M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n      } else {\n        setDishes(dishes.filter(dish => dish.dishId !== id)); //console.log(\" dishes\",responseData.data)\n        //console.log(\"resss \",customerData);\n        //localStorage.setItem('dish', JSON.stringify(responseData.data));\n      }\n    });\n  };\n\n  return dishes ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reshome\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header__upper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__upperheader\",\n        style: {\n          backgroundColor: headbg,\n          boxShadow: shadow\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__upperheaderleft\",\n          children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/rhome\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",\n              alt: \"uber eats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"./adddish\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header__upperheaderright\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Add Dishes \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"./allorders\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header__upperheaderright\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Orders \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__upperheaderright\",\n          onClick: signout,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Sign out \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name\",\n        style: {\n          paddingLeft: 40,\n          fontSize: 22\n        },\n        children: [\"Welcome back \", restaurant.rname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dish_home\",\n      style: {\n        marginTop: 200,\n        marginLeft: 80,\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name\",\n          style: {\n            paddingLeft: 40,\n            fontSize: 18\n          },\n          children: \"Your popular dishes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          item: true,\n          xs: 10,\n          spacing: 5,\n          children: dishes.map(dish => /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            item: true,\n            xs: 4,\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              children: /*#__PURE__*/_jsxDEV(Dish, {\n                id: dish.dishId,\n                func: deleteDish,\n                dname: dish.dname,\n                des: dish.ddesc,\n                ing: dish.ingredients,\n                price: dish.Price,\n                imageKey: dish.profilepic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 7\n            }, this)\n          }, dish.dishId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Home, \"z9gjGOiFjUJHhA9KB3c/Tsc7Z+E=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/restaurant/Home.js"],"names":["React","useEffect","useState","Link","axios","M","Dish","Button","BrowserRouter","Router","useHistory","Grid","Restaurant","Menu","LocationOn","WatchLater","ArrowDownward","Box","Paper","experimentalStyled","styled","useDispatch","logoutRestaurant","Home","history","dispatch","customerData","setcustomerData","restaurant","setRestaurant","dishes","setDishes","image","setImage","headbg","setheadbg","shadow","setshadow","inputdisplay","setinputdisplay","window","addEventListener","scrollY","signout","localStorage","setItem","push","Item","theme","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","getDishes","getRestaurant","restaurantId","JSON","parse","getItem","post","then","responseData","data","error","console","log","stringify","deleteDish","id","filter","dish","dishId","backgroundColor","boxShadow","paddingLeft","fontSize","rname","marginTop","marginLeft","display","flexGrow","map","dname","ddesc","ingredients","Price","profilepic"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from \"react\";\n//import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport Dish from '../components/Resdishes'\nimport { Button } from 'react-bootstrap';\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom'\nimport Grid from '@mui/material/Grid';\nimport Restaurant from '../components/Restaurants'\nimport { Menu, LocationOn,WatchLater,ArrowDownward } from \"@mui/icons-material\";\nimport './Home.css'\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport { experimentalStyled as styled } from '@mui/material/styles';\nimport { useDispatch } from \"react-redux\";\nimport { logoutRestaurant } from \"../actions/resActions\";\n\n\nconst Home =()=>{\n\n    const history = useHistory()\n    const dispatch = useDispatch()\n    const [customerData, setcustomerData] = useState([])\n    const [restaurant, setRestaurant] = useState([])\n    const [dishes, setDishes] = useState([])\n    const [image, setImage] = useState([])\n    const [headbg,setheadbg]=useState('transparent');\n  const [shadow,setshadow]=useState('none');\n  const [inputdisplay,setinputdisplay]=useState(0);\n\n\n  window.addEventListener('scroll',()=>{\n    if(window.scrollY>=50){\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n      setinputdisplay(1);\n\n    }\n    else{\n      setheadbg('transparent');\n      setshadow('none');\n      setinputdisplay(0);\n\n\n    }\n  })\n\n  function signout(){\n    dispatch(logoutRestaurant());\n    localStorage.setItem(\"restaurant\",null);\n    history.push(\"/\")\n  }\n\n  const Item = styled(Paper)(({ theme }) => ({\n    ...theme.typography.body2,\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  }));\n\n    useEffect(()=>{\n      getDishes();\n      getRestaurant();\n    }, []);\n\n  \n    const getDishes = async () =>{\n      const restaurantId =  JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n      //const restaurantId =1\n      await axios.post(`http://localhost:8081/restaurant/getdish/${restaurantId}`,{})\n      .then(responseData => {\n          if (responseData.data.error) {\n              console.log(\"res\",responseData);\n             // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n          }\n          else {\n            console.log(\" dishes\",responseData.data)\n                  //setcustomerData(responseData.data)\n                  setDishes(responseData.data)\n                  \n                  //console.log(\"resss \",customerData);\n                  //localStorage.setItem('dish', JSON.stringify(responseData.data));\n              \n          }\n      })\n\n  }\n  const getRestaurant = async () =>{\n    const restaurantId =  JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n    //const restaurantId =1\n    await axios.post(`http://localhost:8081/restaurant/profile/${restaurantId}`,{})\n    .then(responseData => {\n        console.log(\"res\",responseData);\n        if (responseData.data.error) {\n           // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n        }\n        else {\n                //setcustomerData(responseData.data)\n                setRestaurant(responseData.data)\n                console.log(\"restaurant\",responseData.data)\n                //console.log(\"resss \",customerData);\n                localStorage.setItem('restaurant', JSON.stringify(responseData.data));\n            \n        }\n    })\n\n} \nconst deleteDish =  (id) =>{\n\n  axios.post(`http://localhost:8081/restaurant/deletedish/${id}`,{})\n .then(responseData => {\n     if (responseData.data.error) {\n        // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n     }\n     else {\n             setDishes(dishes.filter((dish) => dish.dishId !== id))\n             //console.log(\" dishes\",responseData.data)\n             \n             //console.log(\"resss \",customerData);\n             //localStorage.setItem('dish', JSON.stringify(responseData.data));\n         \n     }\n })\n\n}\n\n    return(dishes?\n\n        <div className= \"reshome\">\n        <div className=\"header__upper\">\n           <div className=\"header__upperheader\"  style={{backgroundColor:headbg,boxShadow:shadow}}   >\n             <div className=\"header__upperheaderleft\">\n                <Menu />\n                <Link to='/rhome'>\n                <img\n                    src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                     alt=\"uber eats\" /></Link>\n            </div>\n            {/* <div className=\"header__upperheadercenter\"   >\n               <LocationOn />\n               <input type=\"text\" placeholder=\"What are you craving? \" />\n            </div> */}\n            <Link to=\"./adddish\">\n            <div className=\"header__upperheaderright\">\n                 <p> Add Dishes </p>\n            </div></Link>\n            <Link to=\"./allorders\">\n            <div className=\"header__upperheaderright\">\n                 <p> Orders </p>\n            </div></Link>\n            <div className=\"header__upperheaderright\" onClick={signout}>\n                 <p> Sign out </p>\n            </div>\n            {/* <div className=\"header__upperheaderright\">\n                 <p> Add dishes </p>\n            </div> */}\n           </div>\n           <div className=\"name\" style={{paddingLeft: 40, fontSize:22}}>\n           Welcome back {restaurant.rname}\n        </div>\n        \n           \n        </div>\n        \n        \n        <div className = 'dish_home' style={{marginTop:200, marginLeft: 80, display:\"flex\"}}>\n       \n        <Box sx={{ flexGrow: 1 }}>\n        <div className=\"name\" style={{paddingLeft: 40, fontSize:18}}>\n           Your popular dishes\n        </div>\n        <Grid container item xs={10} spacing={5}>\n                {\n                dishes.map(dish =>(\n                \n                <Grid container item xs={4} key={dish.dishId}>\n      <Item>\n      <Dish id={dish.dishId} func={deleteDish}  dname={dish.dname} des={dish.ddesc} ing={dish.ingredients} price={dish.Price} imageKey={dish.profilepic} />\n    </Item>\n    </Grid>\n                ))\n                }\n                </Grid>\n\n                \n\n                </Box>\n            </div>\n           \n          \n    </div>:<h1></h1>\n    )\n    \n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}