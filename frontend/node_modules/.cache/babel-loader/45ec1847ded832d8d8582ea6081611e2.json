{"ast":null,"code":"import _toConsumableArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Box from\"@mui/material/Box\";import{Card,Grid}from\"@mui/material\";import CardContent from\"@mui/material/CardContent\";import CardMedia from\"@mui/material/CardMedia\";import Typography from\"@mui/material/Typography\";import{useState}from\"react\";import Button from\"@mui/material/Button\";import ButtonGroup from\"@mui/material/ButtonGroup\";import ReactDOM from\"react-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dishes(_ref){var dname=_ref.dname,des=_ref.des,ing=_ref.ing,imageKey=_ref.imageKey,price=_ref.price,id=_ref.id,restaurantId=_ref.restaurantId,rname=_ref.rname;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dish=_useState2[0],setdish=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dish1=_useState4[0],setdish1=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),counter=_useState6[0],setcounter=_useState6[1];var increment=function increment(){setcounter(counter+1);};var decrement=function decrement(){setcounter(counter-1);};var useModal=function useModal(){var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isShowing=_useState8[0],setIsShowing=_useState8[1];function toggle(){setIsShowing(!isShowing);}return{isShowing:isShowing,toggle:toggle};};var useModal1=function useModal1(){var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isShowing1=_useState10[0],setIsShowing1=_useState10[1];function toggle1(){setIsShowing1(!isShowing1);}return{isShowing1:isShowing1,toggle1:toggle1};};var addToCart=function addToCart(dishId,quantity,dname,price){//console.log(\"here\",dishId)\nvar subtotal=quantity*price;if(localStorage.getItem('order')){//console.log(\"in order\",restaurantId, JSON.parse(localStorage.getItem('rescartid')).restaurantId)\nif(localStorage.getItem('rescartid')){console.log(\"in order\",restaurantId,JSON.parse(localStorage.getItem('rescartid'))[0].restaurantId,JSON.parse(localStorage.getItem('order')).restaurantId);if(JSON.parse(localStorage.getItem('rescartid'))[0].restaurantId===restaurantId){console.log(\"in cart\",restaurantId,JSON.parse(localStorage.getItem('order')).restaurantId);if(localStorage.getItem(\"cart\")){localStorage.setItem(\"cart\",JSON.stringify([].concat(_toConsumableArray(JSON.parse(localStorage.getItem(\"cart\"))),[{dishId:dishId,dname:dname,quantity:quantity,Price:price,subtotal:subtotal,rname:rname}])));localStorage.setItem(\"rescartid\",JSON.stringify([{restaurantId:restaurantId}]));}else{localStorage.setItem(\"cart\",JSON.stringify([{dishId:dishId,dname:dname,quantity:quantity,Price:price,subtotal:subtotal,rname:rname}]));localStorage.setItem(\"rescartid\",JSON.stringify([{restaurantId:restaurantId}]));}}//=====new function here\nelse{toggle();console.log(isShowing1);console.log(isShowing);toggle1();setdish1({dishId:dishId,dname:dname,quantity:quantity,price:price,subtotal:subtotal});}}else{//   if((localStorage.getItem('cart'))) {\n//   localStorage.setItem(\n//     \"cart\",\n//     JSON.stringify([\n//       ...JSON.parse(localStorage.getItem(\"cart\")),\n//       { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal, rname:rname },\n//     ])\n//   )\n// }\n// else {\nlocalStorage.setItem(\"cart\",JSON.stringify([{dishId:dishId,dname:dname,quantity:quantity,Price:price,subtotal:subtotal,rname:rname}]));localStorage.setItem(\"rescartid\",JSON.stringify([{restaurantId:restaurantId}]));//}\n}}};var newOrder=function newOrder(dishId,quantity,dname,subtotal,price){localStorage.setItem(\"cart\",JSON.stringify([{dishId:dishId,dname:dname,quantity:quantity,Price:price,subtotal:subtotal,rname:rname}]));localStorage.setItem(\"rescartid\",JSON.stringify([{restaurantId:restaurantId}]));console.log(\"sucessfully\");};var Modal=function Modal(_ref2){var isShowing=_ref2.isShowing,hide=_ref2.hide;return isShowing?/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-wrapper\",\"aria-modal\":true,\"aria-hidden\":true,tabIndex:-1,role:\"dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",fontSize:30},children:[\" \",rname,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",style:{justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"modal-close-button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",onClick:hide,children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})}),/*#__PURE__*/_jsx(Typography,{component:\"div\",variant:\"h5\",children:dish.dname}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"text.secondary\",component:\"div\",children:[dish.des,/*#__PURE__*/_jsx(\"br\",{}),\"Ingredients: \",dish.ing]}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",pl:1,pb:1},children:[\"Price $\",price]}),imageKey&&/*#__PURE__*/_jsx(CardMedia,{className:\"media\",component:\"img\",sx:{width:151},image:\"http://localhost:8081/images/\".concat(imageKey),alt:\"Live from space album cover\"}),/*#__PURE__*/_jsxs(ButtonGroup,{size:\"small\",\"aria-label\":\"small button group\",children:[counter>1?/*#__PURE__*/_jsx(Button,{onClick:function onClick(){decrement();},children:\"-\"},\"one\"):/*#__PURE__*/_jsx(Button,{disabled:true,onClick:function onClick(){decrement();},children:\"-\"},\"one\"),\",\",/*#__PURE__*/_jsx(Button,{diabled:true,children:counter},\"two\"),\",\",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){increment();},children:\"+\"},\"three\"),\",\"]}),/*#__PURE__*/_jsxs(Button,{style:{marginLeft:30},onClick:function onClick(){return addToCart(id,counter,dname,price);},disabled:counter===0,children:[\" \",\"Add to cart\"]})]})})]}),document.body):null;};var _useModal=useModal(),isShowing=_useModal.isShowing,toggle=_useModal.toggle;//====================================================================\nvar _useModal2=useModal1(),isShowing1=_useModal2.isShowing1,toggle1=_useModal2.toggle1;var Modal1=function Modal1(_ref3){var isShowing1=_ref3.isShowing1,hide=_ref3.hide;return isShowing1?/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-wrapper\",\"aria-modal\":true,\"aria-hidden\":true,tabIndex:-1,role:\"dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",style:{justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"modal-close-button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",onClick:hide,children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})}),/*#__PURE__*/_jsx(Typography,{component:\"div\",variant:\"h4\",children:\"Create new order?\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"text.secondary\",component:\"div\",children:[\"Your cart contains items from another restaurant. Do you want to create new order?\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",alignItems:\"center\",pl:1,pb:1}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){newOrder(dish1.id,dish1.quantity,dish1.dname,dish1.subtotal,dish1.price);toggle1();},style:{color:'white',backgroundColor:\"black\"},children:\"New Order\"},\"one\")]})})]}),document.body):null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"dishcard\",children:[/*#__PURE__*/_jsx(Modal,{isShowing:isShowing,hide:toggle}),/*#__PURE__*/_jsx(Modal1,{isShowing1:isShowing1,hide:toggle1}),/*#__PURE__*/_jsx(Card,{class:true,Name:\"root\",style:{border:\"1px solid grey\",cursor:\"pointer\"},children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",onClick:function onClick(){toggle();setdish({dname:dname,des:des,ing:ing,imageKey:imageKey,price:price});},children:[/*#__PURE__*/_jsxs(Grid,{container:true,item:true,xs:6,style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(Grid,{container:true,item:true,onClick:function onClick(){toggle();setdish({dname:dname,des:des,ing:ing,imageKey:imageKey,price:price});},children:/*#__PURE__*/_jsx(Typography,{component:\"div\",variant:\"h5\",children:dname})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,children:/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"text.secondary\",component:\"div\",children:[/*#__PURE__*/_jsx(\"br\",{}),\"Ingredients: \",ing]})}),/*#__PURE__*/_jsxs(Grid,{container:true,item:true,children:[\"Price $\",price]})]}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:6,style:{display:\"flex\",justifyContent:\"flex-end\"},children:imageKey&&/*#__PURE__*/_jsx(CardMedia,{className:\"media\",component:\"img\",sx:{width:151},image:\"http://localhost:8081/images/\".concat(imageKey),alt:\"Live from space album cover\"})})]})})]});}export default Dishes;","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/components/Dishes.js"],"names":["React","Box","Card","Grid","CardContent","CardMedia","Typography","useState","Button","ButtonGroup","ReactDOM","Dishes","dname","des","ing","imageKey","price","id","restaurantId","rname","dish","setdish","dish1","setdish1","counter","setcounter","increment","decrement","useModal","isShowing","setIsShowing","toggle","useModal1","isShowing1","setIsShowing1","toggle1","addToCart","dishId","quantity","subtotal","localStorage","getItem","console","log","JSON","parse","setItem","stringify","Price","newOrder","Modal","hide","createPortal","display","alignItems","fontSize","justifyContent","pl","pb","width","marginLeft","document","body","Modal1","color","backgroundColor","border","cursor","padding"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport { Card, Grid } from \"@mui/material\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport ButtonGroup from \"@mui/material/ButtonGroup\";\nimport ReactDOM from \"react-dom\";\n\nfunction Dishes({ dname, des, ing, imageKey, price, id , restaurantId,rname}) {\n  const [dish, setdish] = useState([]);\n  const [dish1, setdish1] = useState([]);\n  let [counter, setcounter] = useState(0);\n\n  const increment = () => {\n    setcounter(counter + 1);\n  };\n  const decrement = () => {\n    setcounter(counter - 1);\n  };\n  const useModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle() {\n      setIsShowing(!isShowing);\n    }\n\n    return {\n      isShowing,\n      toggle,\n    };\n  };\n  const useModal1 = () => {\n    const [isShowing1, setIsShowing1] = useState(false);\n\n    function toggle1() {\n      setIsShowing1(!isShowing1);\n    }\n\n    return {\n      isShowing1,\n      toggle1,\n    };\n  };\n\n  const addToCart = (dishId, quantity,dname,price) => {\n    //console.log(\"here\",dishId)\n    const subtotal= quantity*price\n    if (localStorage.getItem('order')) {\n      //console.log(\"in order\",restaurantId, JSON.parse(localStorage.getItem('rescartid')).restaurantId)\n      if (localStorage.getItem('rescartid')){\n        console.log(\"in order\",restaurantId, JSON.parse(localStorage.getItem('rescartid'))[0].restaurantId, JSON.parse(localStorage.getItem('order')).restaurantId)\n      if (JSON.parse(localStorage.getItem('rescartid'))[0].restaurantId=== restaurantId) {\n        \n        console.log(\"in cart\",restaurantId, JSON.parse(localStorage.getItem('order')).restaurantId)\n        if(localStorage.getItem(\"cart\")) { \n        localStorage.setItem(\n          \"cart\",\n          JSON.stringify([\n            ...JSON.parse(localStorage.getItem(\"cart\")),\n            { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal,rname:rname  },\n          ])\n        )\n        localStorage.setItem(\n          \"rescartid\",\n          JSON.stringify([\n            { restaurantId: restaurantId},\n          ])\n        )} else { \n        localStorage.setItem(\n          \"cart\",\n          JSON.stringify([\n            { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal,rname:rname },\n          ])\n        )\n        localStorage.setItem(\n          \"rescartid\",\n          JSON.stringify([\n            { restaurantId: restaurantId},\n          ])\n        )}\n      }\n    //=====new function here\n    else{ toggle()\n      console.log(isShowing1)\n      console.log(isShowing)\n      toggle1();\n      setdish1({ dishId, dname, quantity, price,subtotal});\n    }\n    } else \n      {\n      //   if((localStorage.getItem('cart'))) {\n      //   localStorage.setItem(\n      //     \"cart\",\n      //     JSON.stringify([\n      //       ...JSON.parse(localStorage.getItem(\"cart\")),\n      //       { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal, rname:rname },\n      //     ])\n      //   )\n      // }\n      // else {\n        localStorage.setItem(\n          \"cart\",\n          JSON.stringify([\n            { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal ,rname:rname},\n          ])\n        )\n        localStorage.setItem(\n          \"rescartid\",\n          JSON.stringify([\n            { restaurantId: restaurantId},\n          ])\n        )\n      //}\n    }}\n    \n  };\n\n  const newOrder=(dishId, quantity,dname,subtotal,price)=>{\n    \n    localStorage.setItem(\n      \"cart\",\n      JSON.stringify([\n        { dishId: dishId, dname:dname, quantity: quantity, Price: price, subtotal: subtotal,rname:rname },\n      ])\n    )\n    localStorage.setItem(\n      \"rescartid\",\n      JSON.stringify([\n        { restaurantId: restaurantId},\n      ])\n    )\n    console.log(\"sucessfully\")\n  }\n\n  const Modal = ({ isShowing, hide }) =>\n    isShowing\n      ? ReactDOM.createPortal(\n          <React.Fragment>\n            <div className=\"modal-overlay\" />\n            <div\n              className=\"modal-wrapper\"\n              aria-modal\n              aria-hidden\n              tabIndex={-1}\n              role=\"dialog\"\n            >\n              <div className=\"modal\">\n              <div style={{ display: \"flex\", alignItems: \"center\",fontSize:30}}> {rname} </div>\n                <div className=\"modal-header\" style={{justifyContent: 'flex-end'}}>\n                  \n                  <button\n                    type=\"button\"\n                    className=\"modal-close-button\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                    onClick={hide}\n                  >\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <Typography component=\"div\" variant=\"h5\">\n                  {dish.dname}\n                </Typography>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"text.secondary\"\n                  component=\"div\"\n                >\n                  {dish.des}\n                  <br />\n                  Ingredients: {dish.ing}\n                </Typography>\n                <Box\n                  sx={{ display: \"flex\", alignItems: \"center\", pl: 1, pb: 1 }}\n                >\n                  Price ${price}\n                </Box>\n\n                {imageKey && (\n                  <CardMedia\n                    className=\"media\"\n                    component=\"img\"\n                    sx={{ width: 151 }}\n                    image={`http://localhost:8081/images/${imageKey}`}\n                    alt=\"Live from space album cover\"\n                  />\n                )}\n                <ButtonGroup size=\"small\" aria-label=\"small button group\">\n                  {counter > 1 ? (\n                    <Button\n                      key=\"one\"\n                      onClick={() => {\n                        decrement();\n                      }}\n                    >\n                      -\n                    </Button>\n                  ) : (\n                    <Button\n                      disabled\n                      key=\"one\"\n                      onClick={() => {\n                        decrement();\n                      }}\n                    >\n                      -\n                    </Button>\n                  )}\n                  ,\n                  <Button key=\"two\" diabled>\n                    {counter}\n                  </Button>\n                  ,\n                  <Button\n                    key=\"three\"\n                    onClick={() => {\n                      increment();\n                    }}\n                  >\n                    +\n                  </Button>\n                  ,\n                </ButtonGroup>\n                <Button\n                  style={{ marginLeft: 30 }}\n                  onClick={() => \n                    \n                    addToCart(id, counter,dname,price)\n                \n                  }\n                  disabled={counter===0}\n                >\n                  {\" \"}\n                  Add to cart\n                </Button>\n              </div>\n            </div>\n          </React.Fragment>,\n          document.body\n        )\n      : null;\n  const { isShowing, toggle } = useModal();\n  //====================================================================\n\n  const { isShowing1, toggle1 } = useModal1();\n\n  const Modal1 = ({ isShowing1, hide }) =>\n    isShowing1\n      ? ReactDOM.createPortal(\n          <React.Fragment>\n            <div className=\"modal-overlay\" />\n            <div\n              className=\"modal-wrapper\"\n              aria-modal\n              aria-hidden\n              tabIndex={-1}\n              role=\"dialog\"\n            >\n              <div className=\"modal\">\n                <div className=\"modal-header\" style={{justifyContent: 'flex-end'}}>\n                  \n                  <button\n                    type=\"button\"\n                    className=\"modal-close-button\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                    onClick={hide}\n                  >\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <Typography component=\"div\" variant=\"h4\">\n                  Create new order?\n                </Typography>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"text.secondary\"\n                  component=\"div\"\n                >\n                  Your cart contains items from another restaurant. Do you want to create new order?\n                  <br />\n                 \n                </Typography>\n                <Box\n                  sx={{ display: \"flex\", alignItems: \"center\", pl: 1, pb: 1 }}\n                >\n                 \n                </Box>\n\n                 \n                    <Button\n                      key=\"one\"\n                      onClick={() => {\n                        newOrder(dish1.id, dish1.quantity,dish1.dname,dish1.subtotal,dish1.price)\n                        toggle1()\n                      }}\n                      style={{color:'white', backgroundColor: \"black\" }}\n                    >\n                      New Order\n                    </Button>\n                 \n              </div>\n            </div>\n          </React.Fragment>,\n          document.body\n        )\n      : null;\n\n\n\n  return (\n    <div className=\"dishcard\">\n      <Modal isShowing={isShowing} hide={toggle} />\n      <Modal1 isShowing1={isShowing1} hide={toggle1} />\n      <Card\n        class\n        Name=\"root\"\n        style={{\n          border: \"1px solid grey\",\n          cursor: \"pointer\",\n        }}\n      >\n        <Grid\n          container\n          direction={\"row\"}\n          onClick={() => {\n            toggle();\n            setdish({ dname, des, ing, imageKey, price });\n          }}\n        >\n          <Grid\n            container\n            item\n            xs={6}\n            style={{\n              padding: \"20px\",\n            }}\n          >\n            <Grid container item onClick={() => {\n            toggle();\n            setdish({ dname, des, ing, imageKey, price });\n          }}>\n              <Typography component=\"div\" variant=\"h5\">\n                {dname}\n              </Typography>\n            </Grid>\n            <Grid container item>\n              <Typography\n                variant=\"subtitle1\"\n                color=\"text.secondary\"\n                component=\"div\"\n              >\n                <br />\n                Ingredients: {ing}\n              </Typography>\n            </Grid>\n            <Grid container item>\n              Price ${price}\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs={6}\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            {imageKey && (\n              <CardMedia\n                className=\"media\"\n                component=\"img\"\n                sx={{ width: 151 }}\n                image={`http://localhost:8081/images/${imageKey}`}\n                alt=\"Live from space album cover\"\n              />\n            )}\n          </Grid>\n        </Grid>\n        {/* <Box sx={{ maxWidth: 345, minWidth: 345 }}>\n          <CardContent\n            sx={{ flex: \"1 0 auto\" }}\n            onClick={() => {\n              toggle();\n              setdish({ dname, des, ing, imageKey, price });\n            }}\n          >\n            <Typography component=\"div\" variant=\"h5\">\n              {dname}\n            </Typography>\n            <Typography\n              variant=\"subtitle1\"\n              color=\"text.secondary\"\n              component=\"div\"\n            >\n              {des}\n              <br />\n              Ingredients: {ing}\n            </Typography>\n          </CardContent>\n          <Box sx={{ display: \"flex\", alignItems: \"center\", pl: 1, pb: 1 }}>\n            Price ${price}\n          </Box>\n        </Box>\n        {imageKey && (\n          <CardMedia\n            className=\"media\"\n            component=\"img\"\n            sx={{ width: 151 }}\n            image={`http://localhost:8081/images/${imageKey}`}\n            alt=\"Live from space album cover\"\n          />\n        )} */}\n      </Card>\n    </div>\n  );\n}\n\nexport default Dishes;\n"]},"metadata":{},"sourceType":"module"}