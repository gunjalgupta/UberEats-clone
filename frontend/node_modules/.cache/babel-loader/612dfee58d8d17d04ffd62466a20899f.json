{"ast":null,"code":"var _jsxFileName = \"/Users/gunjalgupta/Desktop/UberEats-clone/frontend/src/dish/Profilepic.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Profilepic.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function postImages({\n  image,\n  dishId\n}) {\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  formData.append(\"dishId\", dishId);\n  const result = await axios.post('/api/dish/images', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  console.log(\"result\", result);\n  localStorage.setItem('dishkey', result.data.key);\n  return result.data;\n}\n\nconst Profilepic = () => {\n  _s();\n\n  const [file, setFile] = useState();\n  const [images, setImages] = useState([]);\n\n  const submit = async event => {\n    event.preventDefault();\n    const result = postImages({\n      image: file,\n      dishId: JSON.parse(localStorage.getItem(\"dishId\"))\n    });\n    setImages([result.image, ...images]);\n  };\n\n  const fileSelected = event => {\n    const fil = event.target.files[0];\n    setFile(fil);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"profile_chose\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: fileSelected,\n        type: \"file\",\n        accept: \"image/*\",\n        className: \"profile_browse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile_button\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profilepic, \"yhndgRo1ZSafB5lJdPfcjIo219Q=\");\n\n_c = Profilepic;\nexport default Profilepic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profilepic\");","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/UberEats-clone/frontend/src/dish/Profilepic.js"],"names":["React","useState","axios","postImages","image","dishId","formData","FormData","append","result","post","headers","console","log","localStorage","setItem","data","key","Profilepic","file","setFile","images","setImages","submit","event","preventDefault","JSON","parse","getItem","fileSelected","fil","target","files"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA6B,OAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;;;AAEA,eAAeC,UAAf,CAA0B;AAACC,EAAAA,KAAD;AAAOC,EAAAA;AAAP,CAA1B,EAAyC;AACrC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;AACAE,EAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BH,MAA1B;AACA,QAAMI,MAAM,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,kBAAX,EAA+BJ,QAA/B,EACrB;AACIK,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AADb,GADqB,CAArB;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,MAAtB;AACAK,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCN,MAAM,CAACO,IAAP,CAAYC,GAA5C;AACA,SAAOR,MAAM,CAACO,IAAd;AACH;;AAED,MAAME,UAAU,GAAG,MAAM;AAAA;;AAEvB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,EAAhC;AACA,QAAM,CAACoB,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC,EAAD,CAApC;;AACA,QAAMsB,MAAM,GAAG,MAAOC,KAAP,IAAiB;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMhB,MAAM,GAAGN,UAAU,CAAC;AAACC,MAAAA,KAAK,EAACe,IAAP;AAAad,MAAAA,MAAM,EAAEqB,IAAI,CAACC,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,QAArB,CAAX;AAArB,KAAD,CAAzB;AACAN,IAAAA,SAAS,CAAC,CAACb,MAAM,CAACL,KAAR,EAAe,GAAGiB,MAAlB,CAAD,CAAT;AACH,GAJD;;AAMA,QAAMQ,YAAY,GAAIL,KAAD,IAAW;AAC9B,UAAMM,GAAG,GAAGN,KAAK,CAACO,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;AACAZ,IAAAA,OAAO,CAACU,GAAD,CAAP;AACD,GAHD;;AAIE,sBACI;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAEP,MAAhB;AAAwB,MAAA,SAAS,EAAC,eAAlC;AAAA,8BACI;AAAO,QAAA,QAAQ,EAAEM,YAAjB;AAA+B,QAAA,IAAI,EAAC,MAApC;AAA2C,QAAA,MAAM,EAAC,SAAlD;AAA4D,QAAA,SAAS,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,gBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAtBD;;GAAMX,U;;KAAAA,U;AAyBN,eAAeA,UAAf","sourcesContent":["import React, {useState}from 'react';\nimport axios from 'axios';\nimport './Profilepic.css';\n\nasync function postImages({image,dishId}){\n    const formData = new FormData();\n    formData.append(\"image\", image)\n    formData.append(\"dishId\", dishId)\n    const result = await axios.post('/api/dish/images', formData, \n    { \n        headers: {'Content-Type': 'multipart/form-data'}\n    })\n    console.log(\"result\", result)\n    localStorage.setItem('dishkey', result.data.key);\n    return result.data;\n}\n\nconst Profilepic = () => {\n    \n  const [file, setFile] = useState();\n  const [images, setImages] = useState([])\n  const submit = async (event) => {\n      event.preventDefault()\n      const result = postImages({image:file, dishId: JSON.parse(localStorage.getItem(\"dishId\"))})\n      setImages([result.image, ...images])\n  }\n\n  const fileSelected = (event) => {\n    const fil = event.target.files[0]\n    setFile(fil)\n  }\n    return (\n        <div >\n            <form onSubmit={submit} className=\"profile_chose\">\n                <input onChange={fileSelected} type=\"file\" accept=\"image/*\" className=\"profile_browse\"></input>\n                <button type=\"submit\" className=\"profile_button\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\n\nexport default Profilepic;"]},"metadata":{},"sourceType":"module"}