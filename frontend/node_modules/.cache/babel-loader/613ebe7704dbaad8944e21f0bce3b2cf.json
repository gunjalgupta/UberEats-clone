{"ast":null,"code":"import _slicedToArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Menu,LocationOn,WatchLater,ArrowDownward}from\"@mui/icons-material\";import axios from'axios';import M from'materialize-css';import Restaurant from'../components/Restaurants';import{useDispatch}from\"react-redux\";import{logout}from\"../actions/userActions\";import{useHistory}from\"react-router-dom\";import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favourite=function Favourite(){var dispatch=useDispatch();var history=useHistory();var _useState=useState('transparent'),_useState2=_slicedToArray(_useState,2),headbg=_useState2[0],setheadbg=_useState2[1];var _useState3=useState('none'),_useState4=_slicedToArray(_useState3,2),shadow=_useState4[0],setshadow=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),restaurants=_useState6[0],setRestaurants=_useState6[1];window.addEventListener('scroll',function(){if(window.scrollY>=50){setheadbg('#FFFFFF');setshadow('rgb(226 226 226) 0px -2px 0px inset');}else{setheadbg('transparent');setshadow('none');}});function signout(){dispatch(logout());localStorage.setItem(\"customer\",null);history.push(\"/\");}useEffect(function(){var customerId=JSON.parse(localStorage.getItem(\"customer\")).customerId;axios.post(\"http://localhost:8081/customer/showfav/\".concat(customerId),{}).then(function(response){console.log(\"res\",response);if(response.data.error){console.log(\"res\",response);toast.error('ðŸ¦„ Wow so easy!',{position:\"top-right\",autoClose:5000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else{console.log(response.data);setRestaurants(response.data);}});},[restaurants]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"header__upper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheader\",style:{backgroundColor:headbg,boxShadow:shadow},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheaderleft\",children:[/*#__PURE__*/_jsx(Menu,{}),/*#__PURE__*/_jsx(\"a\",{href:\"/chome\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",alt:\"uber eats\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheadercenter\",children:[/*#__PURE__*/_jsx(LocationOn,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What are you craving? \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header__upperheaderright\",onClick:signout,children:/*#__PURE__*/_jsx(\"p\",{children:\" Sign out \"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"res\",style:{marginTop:100,paddingLeft:40},children:/*#__PURE__*/_jsx(\"h3\",{children:\"Favourites\"})}),/*#__PURE__*/_jsx(Box,{style:{padding:40},children:/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:10,spacing:5,children:restaurants.map(function(restaurant){return/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:4,children:/*#__PURE__*/_jsx(Restaurant,{id:restaurant.restaurantId,Name:restaurant.rname,Opens_at:restaurant.fromTime,imageKey:restaurant.profilepic})},restaurant.restaurantId);})})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:true,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true})]});};export default Favourite;","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/Favourite.js"],"names":["React","useEffect","useState","Menu","LocationOn","WatchLater","ArrowDownward","axios","M","Restaurant","useDispatch","logout","useHistory","Box","Grid","ToastContainer","toast","Favourite","dispatch","history","headbg","setheadbg","shadow","setshadow","restaurants","setRestaurants","window","addEventListener","scrollY","signout","localStorage","setItem","push","customerId","JSON","parse","getItem","post","then","response","console","log","data","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","backgroundColor","boxShadow","marginTop","paddingLeft","padding","map","restaurant","restaurantId","rname","fromTime","profilepic"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from \"react\";\nimport { Menu, LocationOn,WatchLater,ArrowDownward } from \"@mui/icons-material\";\nimport axios from 'axios';\nimport M from 'materialize-css'\nimport Restaurant from '../components/Restaurants'\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../actions/userActions\";\nimport { useHistory } from \"react-router-dom\";\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst Favourite= function (){\n\n    const dispatch= useDispatch();\n    const history= useHistory();\n    const [headbg,setheadbg]=useState('transparent');\n    const [shadow,setshadow]=useState('none');\n    const [restaurants, setRestaurants] = useState([])\n  \n    \n    window.addEventListener('scroll',()=>{\n      if(window.scrollY>=50){\n        setheadbg('#FFFFFF');\n        setshadow('rgb(226 226 226) 0px -2px 0px inset');\n      }\n      else{\n        setheadbg('transparent');\n        setshadow('none');\n     \n      }\n    })\n   \n\n  function signout(){\n    dispatch(logout());\n    localStorage.setItem(\"customer\",null);\n    history.push(\"/\")\n  }\n\n    useEffect(()=>{\n        const customerId =  JSON.parse(localStorage.getItem(\"customer\")).customerId;\n\n        axios.post(`http://localhost:8081/customer/showfav/${customerId}`,{})\n        .then(response => {\n            console.log(\"res\",response);\n            if (response.data.error) {\n                console.log(\"res\",response);\n                toast.error('ðŸ¦„ Wow so easy!', {\n                  position: \"top-right\",\n                  autoClose: 5000,\n                  hideProgressBar: true,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  draggable: true,\n                  progress: undefined,\n                  });\n            }\n            else {\n                    console.log(response.data)\n                    setRestaurants(response.data)\n                   \n                \n            }\n        })\n       \n    }, [restaurants]);\n\n    \n    return(\n        <div>\n        <div className=\"header__upper\">\n                <div className=\"header__upperheader\"  style={{backgroundColor:headbg,boxShadow:shadow}}   >\n                  <div className=\"header__upperheaderleft\">\n                     <Menu />\n                     <a  href = \"/chome\">\n                     <img\n                         src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                          alt=\"uber eats\" />\n                          </a>\n                 \n                 </div>\n\n                \n                 <div className=\"header__upperheadercenter\"   >\n                    <LocationOn />\n                    <input type=\"text\" placeholder=\"What are you craving? \" \n                       />\n                  \n                 </div>\n                 \n                 <div className=\"header__upperheaderright\" onClick={signout}>\n                   \n                      <p> Sign out </p>\n                 </div>\n                </div>\n             </div>\n             <div className=\"res\" style={{marginTop: 100,paddingLeft: 40 }}><h3>Favourites</h3></div>\n\n            <Box style={{padding:40}}>\n            <Grid container item xs={10} spacing={5}>\n                {\n                restaurants.map(restaurant =>(\n                \n                <Grid container item xs={4} key={restaurant.restaurantId}>\n      \n      <Restaurant id ={restaurant.restaurantId} Name ={restaurant.rname} Opens_at={restaurant.fromTime} imageKey={restaurant.profilepic}/>\n                 \n    </Grid>\n                ))\n                }\n                </Grid>\n            </Box>\n            <ToastContainer\nposition=\"top-right\"\nautoClose={5000}\nhideProgressBar\nnewestOnTop={false}\ncloseOnClick\nrtl={false}\npauseOnFocusLoss\ndraggable\npauseOnHover\n/>\n    </div>\n    )\n}\n\nexport default Favourite;"]},"metadata":{},"sourceType":"module"}