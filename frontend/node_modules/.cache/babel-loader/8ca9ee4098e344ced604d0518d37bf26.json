{"ast":null,"code":"import _slicedToArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Card from\"@mui/material/Card\";import CardHeader from\"@mui/material/CardHeader\";import CardMedia from\"@mui/material/CardMedia\";import CardContent from\"@mui/material/CardContent\";import CardActions from\"@mui/material/CardActions\";import IconButton from\"@mui/material/IconButton\";import Typography from\"@mui/material/Typography\";import FavoriteIcon from\"@mui/icons-material/Favorite\";import FavoriteBorderIcon from\"@mui/icons-material/FavoriteBorder\";import{BrowserRouter as Router,useHistory}from\"react-router-dom\";import\"../customer/Restaurant.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Restaurants=function Restaurants(_ref){var Name=_ref.Name,Opens_at=_ref.Opens_at,imageKey=_ref.imageKey,id=_ref.id,desc=_ref.desc;var history=useHistory();var _useState=useState([false]),_useState2=_slicedToArray(_useState,2),icon=_useState2[0],seticon=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favrestaurants=_useState4[0],setRestaurants=_useState4[1];function addfav(){seticon(true);var Req={customerId:JSON.parse(localStorage.getItem(\"customer\")).customerId,restaurantId:id};console.log(Req);axios.post(\"http://localhost:8081/customer/addfav\",Req).then(function(responseData){console.log(\"add\",responseData);if(responseData.data.error){console.log(\"res\",responseData);//M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n}});}function deletefav(){seticon(false);var Req={customerId:JSON.parse(localStorage.getItem(\"customer\")).customerId,restaurantId:id};console.log(Req);axios.post(\"http://localhost:8081/customer/deletefav\",Req).then(function(responseData){console.log(\"del\",responseData);if(responseData.data.error){console.log(\"res\",responseData);//M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n}});}useEffect(function(){var req={customerId:JSON.parse(localStorage.getItem(\"customer\")).customerId,restaurantId:id};axios.post(\"http://localhost:8081/customer/checkfav\",req).then(function(response){console.log(\"res\",response);if(response.data===\"success\"){console.log(\"res\",response);// M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\nseticon(true);}else{console.log(response.data);//setRestaurants(response.data)\n//console.log(\"resss \",customerData);\n//localStorage.setItem('customer', JSON.stringify(response.data[0]));\n//M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\nseticon(false);}});},[]);// if(favrestaurants.restaurantId===id){\n//   seticon(true)\n// }\n// else {seticon(false)}\nreturn/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%'},children:/*#__PURE__*/_jsxs(Card,{className:\"cardd_res\",style:{height:'100%'},children:[/*#__PURE__*/_jsx(CardHeader,{title:Name}),imageKey&&/*#__PURE__*/_jsx(CardMedia,{onClick:function onClick(){return history.push(\"/resprofile/\".concat(id));},component:\"img\",height:\"194\",image:\"http://localhost:8081/images/\".concat(imageKey),alt:\"Paella dish\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Opens at: \",Opens_at]})}),/*#__PURE__*/_jsx(CardActions,{disableSpacing:true,children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"add to favorites\",children:/*#__PURE__*/_jsx(\"div\",{children:icon?/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){deletefav();},children:[\" \",/*#__PURE__*/_jsx(FavoriteIcon,{}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){addfav();},children:[\" \",/*#__PURE__*/_jsx(FavoriteBorderIcon,{}),\" \"]})})})})]})});};export default Restaurants;","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/components/Restaurants.js"],"names":["React","useEffect","useState","Card","CardHeader","CardMedia","CardContent","CardActions","IconButton","Typography","FavoriteIcon","FavoriteBorderIcon","BrowserRouter","Router","useHistory","axios","Restaurants","Name","Opens_at","imageKey","id","desc","history","icon","seticon","favrestaurants","setRestaurants","addfav","Req","customerId","JSON","parse","localStorage","getItem","restaurantId","console","log","post","then","responseData","data","error","deletefav","req","response","width","height","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardActions from \"@mui/material/CardActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport FavoriteBorderIcon from \"@mui/icons-material/FavoriteBorder\";\nimport { BrowserRouter as Router, useHistory } from \"react-router-dom\";\nimport \"../customer/Restaurant.css\";\nimport axios from \"axios\";\n\nconst Restaurants = ({ Name, Opens_at, imageKey, id ,desc}) => {\n  const history = useHistory();\n  const [icon, seticon] = useState([false]);\n  const [favrestaurants, setRestaurants] = useState([]);\n\n  function addfav() {\n    seticon(true);\n    const Req = {\n      customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId,\n      restaurantId: id,\n    };\n    console.log(Req);\n    axios\n      .post(\"http://localhost:8081/customer/addfav\", Req)\n\n      .then((responseData) => {\n        console.log(\"add\", responseData);\n        if (responseData.data.error) {\n          console.log(\"res\", responseData);\n          //M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n        }\n      });\n  }\n\n  function deletefav() {\n    seticon(false);\n    const Req = {\n      customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId,\n      restaurantId: id,\n    };\n    console.log(Req);\n    axios\n      .post(\"http://localhost:8081/customer/deletefav\", Req)\n\n      .then((responseData) => {\n        console.log(\"del\", responseData);\n        if (responseData.data.error) {\n          console.log(\"res\", responseData);\n          //M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n        }\n      });\n  }\n\n  useEffect(() => {\n    const req = {\n      customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId,\n      restaurantId: id,\n    };\n\n    axios\n      .post(\"http://localhost:8081/customer/checkfav\", req)\n      .then((response) => {\n        console.log(\"res\", response);\n        if (response.data === \"success\") {\n          console.log(\"res\", response);\n          // M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\n          seticon(true);\n        } else {\n          console.log(response.data);\n          //setRestaurants(response.data)\n          //console.log(\"resss \",customerData);\n          //localStorage.setItem('customer', JSON.stringify(response.data[0]));\n          //M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\n          seticon(false);\n        }\n      });\n  }, []);\n\n  // if(favrestaurants.restaurantId===id){\n  //   seticon(true)\n  // }\n  // else {seticon(false)}\n\n  return (\n    <div style={{\n      width: '100%',\n      height: '100%',\n    }}>\n      <Card className=\"cardd_res\" style={{\n        height: '100%'\n      }}>\n        <CardHeader title={Name}/>\n        {imageKey && (\n          <CardMedia\n            onClick={() => history.push(`/resprofile/${id}`)}\n            component=\"img\"\n            height=\"194\"\n            image={`http://localhost:8081/images/${imageKey}`}\n            alt=\"Paella dish\"\n          />\n        )}\n\n        <CardContent>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n            Opens at: {Opens_at}\n          </Typography>\n          {/* <Typography variant=\"body2\" color=\"text.secondary\">\n            {desc}\n          </Typography> */}\n        </CardContent>\n        <CardActions disableSpacing>\n          <IconButton aria-label=\"add to favorites\">\n            <div>\n              {icon ? (\n                <span\n                  onClick={() => {\n                    deletefav();\n                  }}\n                >\n                  {\" \"}\n                  <FavoriteIcon />{\" \"}\n                </span>\n              ) : (\n                <span\n                  onClick={() => {\n                    addfav();\n                  }}\n                >\n                  {\" \"}\n                  <FavoriteBorderIcon />{\" \"}\n                </span>\n              )}\n            </div>\n          </IconButton>\n        </CardActions>\n      </Card>\n    </div>\n  );\n};\n\nexport default Restaurants;\n"]},"metadata":{},"sourceType":"module"}