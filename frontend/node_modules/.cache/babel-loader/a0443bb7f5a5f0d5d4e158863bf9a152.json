{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/gunjalgupta/Desktop/ubereatss/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";//import React, { useState, useEffect, useContext } from 'react'\nimport{Link}from'react-router-dom';import axios from'axios';import M from'materialize-css';import Dish from'../components/Resdishes';import{Button}from'react-bootstrap';import{BrowserRouter as Router,useHistory}from'react-router-dom';import Grid from'@mui/material/Grid';import Restaurant from'../components/Restaurants';import{Menu,LocationOn,WatchLater,ArrowDownward}from\"@mui/icons-material\";import'./Home.css';import Box from'@mui/material/Box';import Paper from'@mui/material/Paper';import{experimentalStyled as style}from'@mui/material/styles';import{useDispatch}from\"react-redux\";import{logoutRestaurant}from\"../actions/resActions\";import{styled,useTheme}from\"@mui/material/styles\";import Drawer from\"@mui/material/Drawer\";import ListItem from\"@mui/material/ListItem\";import ListItemIcon from\"@mui/material/ListItemIcon\";import ListItemText from\"@mui/material/ListItemText\";import InboxIcon from\"@mui/icons-material/MoveToInbox\";import ChevronLeftIcon from\"@mui/icons-material/ChevronLeft\";import ChevronRightIcon from\"@mui/icons-material/ChevronRight\";import List from\"@mui/material/List\";import Divider from\"@mui/material/Divider\";import IconButton from\"@mui/material/IconButton\";import AccountBoxIcon from'@mui/icons-material/AccountBox';import AssignmentIndIcon from'@mui/icons-material/AssignmentInd';import ReceiptIcon from'@mui/icons-material/Receipt';import AddBoxIcon from'@mui/icons-material/AddBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var history=useHistory();var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),customerData=_useState2[0],setcustomerData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),restaurant=_useState4[0],setRestaurant=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dishes=_useState6[0],setDishes=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState('transparent'),_useState10=_slicedToArray(_useState9,2),headbg=_useState10[0],setheadbg=_useState10[1];var _useState11=useState('none'),_useState12=_slicedToArray(_useState11,2),shadow=_useState12[0],setshadow=_useState12[1];window.addEventListener('scroll',function(){if(window.scrollY>=50){setheadbg('#FFFFFF');setshadow('rgb(226 226 226) 0px -2px 0px inset');}else{setheadbg('transparent');setshadow('none');}});var theme=useTheme();var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),open=_useState14[0],setOpen=_useState14[1];var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};function signout(){dispatch(logoutRestaurant());localStorage.setItem(\"restaurant\",null);history.push(\"/\");}var Item=styled(Paper)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({},theme.typography.body2),{},{padding:theme.spacing(2),textAlign:'center',color:theme.palette.text.secondary});});useEffect(function(){getDishes();getRestaurant();},[]);var getDishes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var restaurantId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:restaurantId=JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;//const restaurantId =1\n_context.next=3;return axios.post(\"http://localhost:8081/restaurant/getdish/\".concat(restaurantId),{}).then(function(responseData){if(responseData.data.error){console.log(\"res\",responseData);// M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n}else{console.log(\" dishes\",responseData.data);//setcustomerData(responseData.data)\n//setcustomerData(responseData.data)\nsetDishes(responseData.data);//console.log(\"resss \",customerData);\n//localStorage.setItem('dish', JSON.stringify(responseData.data));\n}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getDishes(){return _ref2.apply(this,arguments);};}();var getRestaurant=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var restaurantId;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:restaurantId=JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;//const restaurantId =1\n_context2.next=3;return axios.post(\"http://localhost:8081/restaurant/profile/\".concat(restaurantId),{}).then(function(responseData){console.log(\"res\",responseData);if(responseData.data.error){// M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n}else{//setcustomerData(responseData.data)\nsetRestaurant(responseData.data);console.log(\"restaurant\",responseData.data);//console.log(\"resss \",customerData);\n//console.log(\"resss \",customerData);\nlocalStorage.setItem('restaurant',JSON.stringify(responseData.data));}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function getRestaurant(){return _ref3.apply(this,arguments);};}();var deleteDish=function deleteDish(id){axios.post(\"http://localhost:8081/restaurant/deletedish/\".concat(id),{}).then(function(responseData){if(responseData.data.error){// M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n}else{setDishes(dishes.filter(function(dish){return dish.dishId!==id;}));//console.log(\" dishes\",responseData.data)\n//console.log(\"resss \",customerData);\n//localStorage.setItem('dish', JSON.stringify(responseData.data));\n}});};return dishes?/*#__PURE__*/_jsxs(\"div\",{className:\"reshome\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header__upper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheader\",style:{backgroundColor:headbg,boxShadow:shadow},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheaderleft\",children:[/*#__PURE__*/_jsx(Menu,{onClick:handleDrawerOpen}),/*#__PURE__*/_jsx(Link,{to:\"/rhome\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",alt:\"uber eats\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header__upperheadercenter\",children:[/*#__PURE__*/_jsx(LocationOn,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What are you craving? \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"header__upperheaderright\",onClick:signout,children:/*#__PURE__*/_jsx(\"p\",{children:\" Sign out \"})})]})}),/*#__PURE__*/_jsxs(Drawer,{sx:{width:drawerWidth,flexShrink:0// \"& .MuiDrawer-paper\": {\n//   width: drawerWidth,\n//   boxSizing: \"border-box\",\n// },\n},variant:\"persistent\",anchor:\"left\",open:open,children:[/*#__PURE__*/_jsxs(DrawerHeader,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:theme.direction===\"ltr\"?/*#__PURE__*/_jsx(ChevronLeftIcon,{}):/*#__PURE__*/_jsx(ChevronRightIcon,{})}),/*#__PURE__*/_jsx(\"img\",{src:\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",alt:\"uber eats\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsxs(Link,{to:\"./rprofile\",style:{color:'black'},children:[/*#__PURE__*/_jsx(AccountBoxIcon,{}),\" \"]})}),/*#__PURE__*/_jsxs(ListItemText,{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"./rprofile\",style:{textDecoration:'none',color:\"black\"},children:\"  View profile \"})]})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Link,{to:\"./rprofile\",style:{color:'black'},children:/*#__PURE__*/_jsx(AssignmentIndIcon,{})})}),/*#__PURE__*/_jsxs(ListItemText,{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"./rprofile\",style:{textDecoration:'none',color:\"black\"},children:\"  Update profile \"})]})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsxs(Link,{to:\"./adddish\",style:{color:'black'},children:[/*#__PURE__*/_jsx(AddBoxIcon,{}),\"  \"]})}),/*#__PURE__*/_jsxs(ListItemText,{children:[\"  \",/*#__PURE__*/_jsx(Link,{to:\"./adddish\",style:{textDecoration:'none',color:\"black\"},children:\"  Add dishes \"})]})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsxs(Link,{to:\"./allorders\",style:{color:'black'},children:[/*#__PURE__*/_jsx(ReceiptIcon,{}),\"  \"]})}),/*#__PURE__*/_jsxs(ListItemText,{children:[\"  \",/*#__PURE__*/_jsx(Link,{to:\"./allorders\",style:{textDecoration:'none',color:\"black\"},children:\"   Orders\"})]})]})]}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dish_home\",style:{marginTop:100,marginLeft:0,display:\"flex\"},children:/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name\",style:{paddingLeft:0,fontSize:22},children:[\"Welcome back \",restaurant.rname]}),/*#__PURE__*/_jsx(\"div\",{children:restaurant.profilepic&&/*#__PURE__*/_jsx(\"img\",{style:{alignSelf:'center',height:'400px',width:'100%',borderWidth:1,marginBottom:50,marginRight:\"30px\"},src:\"http://localhost:8081/images/\".concat(restaurant.profilepic),className:\"showProfile_img\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"name\",style:{paddingLeft:40,fontSize:18},children:\"Your popular dishes\"}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:10,spacing:5,children:dishes.map(function(dish){return/*#__PURE__*/_jsx(Grid,{container:true,item:true,xs:4,children:/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Dish,{id:dish.dishId,func:deleteDish,dname:dish.dname,des:dish.ddesc,ing:dish.ingredients,price:dish.Price,imageKey:dish.profilepic})})},dish.dishId);})})]})})]}):/*#__PURE__*/_jsx(\"h1\",{});};export default Home;var drawerWidth=240;var Main=styled(\"main\",{shouldForwardProp:function shouldForwardProp(prop){return prop!==\"open\";}})(function(_ref4){var theme=_ref4.theme,open=_ref4.open;return _objectSpread({flexGrow:1,padding:theme.spacing(3),transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),marginLeft:\"-\".concat(drawerWidth,\"px\")},open&&{transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.easeOut,duration:theme.transitions.duration.enteringScreen}),marginLeft:0});});var DrawerHeader=styled(\"div\")(function(_ref5){var theme=_ref5.theme;return _objectSpread(_objectSpread({display:\"flex\",alignItems:\"center\",padding:theme.spacing(0,1)},theme.mixins.toolbar),{},{justifyContent:\"flex-end\"});});","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/restaurant/Home.js"],"names":["React","useEffect","useState","Link","axios","M","Dish","Button","BrowserRouter","Router","useHistory","Grid","Restaurant","Menu","LocationOn","WatchLater","ArrowDownward","Box","Paper","experimentalStyled","style","useDispatch","logoutRestaurant","styled","useTheme","Drawer","ListItem","ListItemIcon","ListItemText","InboxIcon","ChevronLeftIcon","ChevronRightIcon","List","Divider","IconButton","AccountBoxIcon","AssignmentIndIcon","ReceiptIcon","AddBoxIcon","Home","history","dispatch","customerData","setcustomerData","restaurant","setRestaurant","dishes","setDishes","image","setImage","headbg","setheadbg","shadow","setshadow","window","addEventListener","scrollY","theme","open","setOpen","handleDrawerOpen","handleDrawerClose","signout","localStorage","setItem","push","Item","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","getDishes","getRestaurant","restaurantId","JSON","parse","getItem","post","then","responseData","data","error","console","log","stringify","deleteDish","id","filter","dish","dishId","backgroundColor","boxShadow","width","drawerWidth","flexShrink","direction","textDecoration","marginTop","marginLeft","display","flexGrow","paddingLeft","fontSize","rname","profilepic","alignSelf","height","borderWidth","marginBottom","marginRight","map","dname","ddesc","ingredients","Price","Main","shouldForwardProp","prop","transition","transitions","create","easing","sharp","duration","leavingScreen","easeOut","enteringScreen","DrawerHeader","alignItems","mixins","toolbar","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from \"react\";\n//import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport Dish from '../components/Resdishes'\nimport { Button } from 'react-bootstrap';\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom'\nimport Grid from '@mui/material/Grid';\nimport Restaurant from '../components/Restaurants'\nimport { Menu, LocationOn,WatchLater,ArrowDownward } from \"@mui/icons-material\";\nimport './Home.css'\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport { experimentalStyled as style } from '@mui/material/styles';\nimport { useDispatch } from \"react-redux\";\nimport { logoutRestaurant } from \"../actions/resActions\";\nimport { styled,useTheme } from \"@mui/material/styles\";\nimport Drawer from \"@mui/material/Drawer\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport InboxIcon from \"@mui/icons-material/MoveToInbox\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport List from \"@mui/material/List\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\nimport AssignmentIndIcon from '@mui/icons-material/AssignmentInd';\nimport ReceiptIcon from '@mui/icons-material/Receipt';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\n\nconst Home =()=>{\n\n    const history = useHistory()\n    const dispatch = useDispatch()\n    const [customerData, setcustomerData] = useState([])\n    const [restaurant, setRestaurant] = useState([])\n    const [dishes, setDishes] = useState([])\n    const [image, setImage] = useState([])\n    const [headbg,setheadbg]=useState('transparent');\n  const [shadow,setshadow]=useState('none');\n  \n\n\n  window.addEventListener('scroll',()=>{\n    if(window.scrollY>=50){\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n    \n\n    }\n    else{\n      setheadbg('transparent');\n      setshadow('none');\n     \n\n\n    }\n  })\n\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  function signout(){\n    dispatch(logoutRestaurant());\n    localStorage.setItem(\"restaurant\",null);\n    history.push(\"/\")\n  }\n\n  const Item = styled(Paper)(({ theme }) => ({\n    ...theme.typography.body2,\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  }));\n\n    useEffect(()=>{\n      getDishes();\n      getRestaurant();\n    }, []);\n\n  \n    const getDishes = async () =>{\n      const restaurantId =  JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n      //const restaurantId =1\n      await axios.post(`http://localhost:8081/restaurant/getdish/${restaurantId}`,{})\n      .then(responseData => {\n          if (responseData.data.error) {\n              console.log(\"res\",responseData);\n             // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n          }\n          else {\n            console.log(\" dishes\",responseData.data)\n                  //setcustomerData(responseData.data)\n                  setDishes(responseData.data)\n                  \n                  //console.log(\"resss \",customerData);\n                  //localStorage.setItem('dish', JSON.stringify(responseData.data));\n              \n          }\n      })\n\n  }\n  const getRestaurant = async () =>{\n    const restaurantId =  JSON.parse(localStorage.getItem(\"restaurant\")).restaurantId;\n    //const restaurantId =1\n    await axios.post(`http://localhost:8081/restaurant/profile/${restaurantId}`,{})\n    .then(responseData => {\n        console.log(\"res\",responseData);\n        if (responseData.data.error) {\n           // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n        }\n        else {\n                //setcustomerData(responseData.data)\n                setRestaurant(responseData.data)\n                console.log(\"restaurant\",responseData.data)\n                //console.log(\"resss \",customerData);\n                localStorage.setItem('restaurant', JSON.stringify(responseData.data));\n            \n        }\n    })\n\n} \nconst deleteDish =  (id) =>{\n\n  axios.post(`http://localhost:8081/restaurant/deletedish/${id}`,{})\n .then(responseData => {\n     if (responseData.data.error) {\n        // M.toast({ html: responseData.data.error, classes: \"#c62828 red darken-3\" })\n     }\n     else {\n             setDishes(dishes.filter((dish) => dish.dishId !== id))\n             //console.log(\" dishes\",responseData.data)\n             \n             //console.log(\"resss \",customerData);\n             //localStorage.setItem('dish', JSON.stringify(responseData.data));\n         \n     }\n })\n\n}\n\n    return(dishes?\n\n        <div className= \"reshome\">\n        <div className=\"header__upper\">\n           <div className=\"header__upperheader\"  style={{backgroundColor:headbg,boxShadow:shadow}}   >\n             <div className=\"header__upperheaderleft\">\n                <Menu onClick={handleDrawerOpen}></Menu>\n                <Link to='/rhome'>\n                <img\n                    src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                     alt=\"uber eats\" /></Link>\n            </div>\n            {/* <div className=\"header__upperheadercenter\"   >\n               <LocationOn />\n               <input type=\"text\" placeholder=\"What are you craving? \" />\n            </div> */}\n            <div className=\"header__upperheadercenter\">\n            <LocationOn />\n            <input\n              type=\"text\"\n              placeholder=\"What are you craving? \"\n              \n            />\n          </div>\n            <div className=\"header__upperheaderright\" onClick={signout}>\n                 <p> Sign out </p>\n            </div>\n            {/* <div className=\"header__upperheaderright\">\n                 <p> Add dishes </p>\n            </div> */}\n           </div>\n        \n           \n        </div>\n        \n        <Drawer\n          sx={{\n            width: drawerWidth,\n            flexShrink: 0,\n            // \"& .MuiDrawer-paper\": {\n            //   width: drawerWidth,\n            //   boxSizing: \"border-box\",\n            // },\n          }}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={open}\n        >\n          <DrawerHeader>\n            <IconButton onClick={handleDrawerClose}>\n              {theme.direction === \"ltr\" ? (\n                <ChevronLeftIcon />\n              ) : (\n                <ChevronRightIcon />\n              )}\n            </IconButton>\n            <img\n                src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                alt=\"uber eats\"\n              />\n          </DrawerHeader>\n          <Divider />\n          <List>\n          <ListItem >\n          \n                <ListItemIcon>\n                <Link to ='./rprofile' style={{color:'black',}}>\n                 <AccountBoxIcon /> </Link>  \n                </ListItemIcon> \n                <ListItemText> <Link to ='./rprofile' style={{textDecoration:'none', color:\"black\"}}>  View profile </Link></ListItemText>\n              </ListItem>\n        <ListItem >\n          \n                <ListItemIcon>\n                <Link to ='./rprofile' style={{color:'black',}}>\n                 <AssignmentIndIcon />   \n                 </Link>  \n                </ListItemIcon> \n                <ListItemText> <Link to ='./rprofile' style={{textDecoration:'none', color:\"black\"}}>  Update profile </Link></ListItemText>\n              </ListItem>\n              <ListItem >\n           \n                <ListItemIcon>\n                <Link to ='./adddish' style={{color:'black',}}> \n                 <AddBoxIcon />  </Link>\n                </ListItemIcon> \n                <ListItemText>  <Link to ='./adddish' style={{textDecoration:'none', color:\"black\"}}>  Add dishes </Link></ListItemText>\n              </ListItem>\n              <ListItem >\n          \n                <ListItemIcon>\n                <Link to ='./allorders' style={{color:'black',}}> \n                 <ReceiptIcon />  </Link> \n                </ListItemIcon> \n                <ListItemText>  <Link to ='./allorders' style={{textDecoration:'none', color:\"black\"}}>   Orders</Link></ListItemText>\n              </ListItem>\n          </List>\n          <Divider />\n        </Drawer>\n        {/* <Main open={open}>\n        <DrawerHeader />\n      </Main> */}\n        \n        \n        <div className = 'dish_home' style={{marginTop:100, marginLeft: 0, display:\"flex\"}}>\n       \n        <Box sx={{ flexGrow: 1 }}>\n        <div className=\"name\" style={{paddingLeft: 0, fontSize:22}}>\n           Welcome back {restaurant.rname}\n        </div>\n        <div>\n           \n           {restaurant.profilepic && <img style={{\n   alignSelf: 'center',\n   height: '400px',\n   width: '100%',\n   borderWidth: 1,\n   marginBottom: 50,\n   marginRight: \"30px\",\n   \n   \n }} src={`http://localhost:8081/images/${restaurant.profilepic}`} className=\"showProfile_img\"  />}\n            </div>\n        <div className=\"name\" style={{paddingLeft: 40, fontSize:18}}>\n           Your popular dishes\n        </div>\n        <Grid container item xs={10} spacing={5}>\n                {\n                dishes.map(dish =>(\n                \n                <Grid container item xs={4} key={dish.dishId}>\n      <Item>\n      <Dish id={dish.dishId} func={deleteDish}  dname={dish.dname} des={dish.ddesc} ing={dish.ingredients} price={dish.Price} imageKey={dish.profilepic} />\n    </Item>\n    </Grid>\n                ))\n                }\n                </Grid>\n\n                \n\n                </Box>\n            </div>\n           \n          \n    </div>:<h1></h1>\n    )\n    \n}\n\nexport default Home;\n\nconst drawerWidth = 240;\n\nconst Main = styled(\"main\", { shouldForwardProp: (prop) => prop !== \"open\" })(\n  ({ theme, open }) => ({\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: `-${drawerWidth}px`,\n    ...(open && {\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: 0,\n    }),\n  })\n);\n\nconst DrawerHeader = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: theme.spacing(0, 1),\n  // necessary for content to be below app bar\n  ...theme.mixins.toolbar,\n  justifyContent: \"flex-end\",\n}));\n"]},"metadata":{},"sourceType":"module"}