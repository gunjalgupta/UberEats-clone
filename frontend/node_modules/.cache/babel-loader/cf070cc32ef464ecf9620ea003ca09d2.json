{"ast":null,"code":"var _jsxFileName = \"/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/UpdateProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport M from 'materialize-css';\nimport { Formik } from 'formik';\nimport { Button } from 'react-bootstrap';\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom';\nimport { CountryDropdown, RegionDropdown } from \"react-country-region-selector-material-ui-new\";\nimport './UpdateProfile.css';\nimport Showprofile from './Showprofile';\nimport Profilepic from './Profilepic';\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../actions/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateProfile = () => {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [customerData, setcustomerData] = useState([]);\n  const [image, setImage] = useState([]);\n  const [url, setUrl] = useState([]);\n  const [dob, setDob] = useState([]);\n  const [headbg, setheadbg] = useState('transparent');\n  const [shadow, setshadow] = useState('none');\n  const [inputdisplay, setinputdisplay] = useState(0);\n  window.addEventListener('scroll', () => {\n    if (window.scrollY >= 50) {\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n      setinputdisplay(1);\n    } else {\n      setheadbg('transparent');\n      setshadow('none');\n      setinputdisplay(0);\n    }\n  });\n\n  function signout() {\n    dispatch(logout());\n    localStorage.setItem(\"customer\", null);\n    history.push(\"/\");\n  }\n\n  useEffect(() => {\n    const customerId = JSON.parse(localStorage.getItem(\"customer\")).customerId;\n    axios.get(`http://localhost:8081/customerprofile/${customerId}`, {}).then(response => {\n      console.log(\"res\", response);\n\n      if (response.data.error) {\n        console.log(\"res\", response);\n        M.toast({\n          html: response.data.error,\n          classes: \"#c62828 red darken-3\"\n        });\n      } else {\n        setcustomerData(response.data[0]);\n        console.log(response.data[0]); //console.log(\"resss \",customerData);\n\n        localStorage.setItem('customer', JSON.stringify(response.data[0]));\n        setDob(customerData.DOB == null ? customerData.DOB : customerData.DOB.substr(0, 10));\n      }\n    }); // console.log(\"res\",response);\n    // if (response.data.error) {\n    //     console.log(\"res\",response.data[0]);\n    //    // M.toast({ html: response.data[0].error, classes: \"#c62828 red darken-3\" })\n    // }\n  }, []);\n  return customerData.email ? /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"section\",\n    id: \"about\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"update\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__upper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header__upperheader\",\n          style: {\n            backgroundColor: headbg,\n            boxShadow: shadow\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header__upperheaderleft\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/chome\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \",\n                alt: \"uber eats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 22\n              }, this), \"  \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header__upperheaderright\",\n            onClick: signout,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" Sign out \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details_img\",\n        children: [/*#__PURE__*/_jsxDEV(Showprofile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Profilepic, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Formik, {\n          style: {\n            width: '40%'\n          },\n          initialValues: {\n            cname: customerData.cname,\n            email: customerData.email,\n            mobileNo: customerData.mobileNo,\n            city: customerData.city,\n            stateId: customerData.stateId,\n            countryId: customerData.countryId,\n            DOB: customerData.DOB ? customerData.DOB.substr(0, 20) : null,\n            nickname: customerData.nickname,\n            about: customerData.about\n          },\n          onSubmit: (values, {\n            setSubmitting,\n            resetForm\n          }) => {\n            console.log(values); // if (image) {\n            //     const data = new FormData()\n            //     data.append(\"api_key\", '757831828593633');\n            //     data.append(\"file\", image)\n            //     data.append(\"upload_preset\", \"l3ihyhha\")\n            //     data.append(\"cloud_name\", \"du8oeufnp\")\n            //     fetch(\"https://api.cloudinary.com/v1_1/du8oeufnp/image/upload\", {\n            //         method: \"post\",\n            //         body: data\n            //     }).then(res => res.json())\n            //         .then(res => {\n            //             console.log(res + \"Hiii\")\n            //             setUrl(res.url)\n            //         })\n            //         .catch(err => {\n            //             console.log(err)\n            //         })\n            // }\n\n            const customerId = JSON.parse(localStorage.getItem(\"customer\")).customerId;\n            console.log(customerId);\n            axios.post(`http://localhost:8081/customerprofile/updatedetails/`, {\n              customerId,\n              values: values\n            }).then(response => {\n              console.log(\"update\", response);\n\n              if (response.data.error) {\n                M.toast({\n                  html: response.data.error,\n                  classes: \"#c62828 red darken-3\"\n                });\n              } else {\n                console.log(\"update1\", response);\n                M.toast({\n                  html: \"Updated customer details successfully\",\n                  inDuration: 300,\n                  outDuration: 375,\n                  displyLength: 4000,\n                  classes: \"rounded\"\n                });\n              }\n            }).catch(err => {\n              console.log(err);\n            }); //history.push('/chome')\n          },\n          children: ({\n            errors,\n            handleBlur,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n            touched,\n            values\n          }) => /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"contactForm\",\n            style: {\n              width: '40%'\n            },\n            name: \"sentMessage\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-weight-normal\",\n              style: {\n                fontFamily: 'UberMoveText-Medium,Helvetica,sans-serif'\n              },\n              children: \" Update details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Customer Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"text\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"cname\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.cname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 95\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\" Email \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"text\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"email\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 89\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Contact Number \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      required: true,\n                      type: \"number\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"mobileNo\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.mobileNo\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 97\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"City \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"city\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.city\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 87\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Country\", /*#__PURE__*/_jsxDEV(CountryDropdown, {\n                      style: {\n                        width: \"100%\"\n                      },\n                      value: values.countryId,\n                      className: \"form-control\",\n                      id: \"countryId\",\n                      onBlur: handleBlur,\n                      onChange: handleChange(\"countryId\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 89\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"State  \", /*#__PURE__*/_jsxDEV(RegionDropdown, {\n                      style: {\n                        width: \"100%\"\n                      },\n                      country: values.countryId,\n                      value: values.stateId,\n                      className: \"form-control\",\n                      id: \"stateId\",\n                      onBlur: handleBlur,\n                      onChange: handleChange(\"stateId\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 59\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Description \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"about\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.about\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 94\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Date of birth \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"DOB\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.DOB\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 96\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      width: \"100%\"\n                    },\n                    children: [\"Nickname \", /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      style: {\n                        width: \"100%\",\n                        borderRadius: 0\n                      },\n                      className: \"form-control\",\n                      id: \"nickname\",\n                      onBlur: handleBlur,\n                      onChange: handleChange,\n                      value: values.nickname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 91\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"help-block text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"update_button\",\n              style: {\n                width: \"100%\",\n                borderRadius: 5\n              },\n              children: \"Save changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 21\n  }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 24\n  }, this) // <form onSubmit={submit}>\n  //   <input\n  //     type=\"text\"\n  //     name=\"user name \"\n  //     value={customerData.cname}\n  //     onChange={e => setUser({ ...user, name: e.target.value })}\n  //   />\n  //   {user.errors.name && <p>{user.errors.name}</p>}\n  //   <input\n  //     type=\"email\"\n  //     name=\"user[email]\"\n  //     value={user.email}\n  //     onChange={e => setUser({ ...user, email: e.target.value })}\n  //   />\n  //   {user.errors.name && <p>{user.errors.name}</p>}\n  //   <input type=\"submit\" name=\"Sign Up\" />\n  // </form>\n  ;\n};\n\n_s(UpdateProfile, \"igkNGzkxzoFpbX9w83i/3bd2m5s=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = UpdateProfile;\nexport default UpdateProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/UpdateProfile.js"],"names":["React","useState","useEffect","useContext","Link","axios","M","Formik","Button","BrowserRouter","Router","useHistory","CountryDropdown","RegionDropdown","Showprofile","Profilepic","useDispatch","logout","UpdateProfile","history","dispatch","customerData","setcustomerData","image","setImage","url","setUrl","dob","setDob","headbg","setheadbg","shadow","setshadow","inputdisplay","setinputdisplay","window","addEventListener","scrollY","signout","localStorage","setItem","push","customerId","JSON","parse","getItem","get","then","response","console","log","data","error","toast","html","classes","stringify","DOB","substr","email","backgroundColor","boxShadow","width","cname","mobileNo","city","stateId","countryId","nickname","about","values","setSubmitting","resetForm","post","inDuration","outDuration","displyLength","catch","err","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","fontFamily","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\n\nimport { Link } from 'react-router-dom'\nimport axios from 'axios';\nimport M from 'materialize-css'\nimport { Formik } from 'formik';\nimport { Button } from 'react-bootstrap'\nimport { BrowserRouter as Router, useHistory } from 'react-router-dom'\nimport { CountryDropdown, RegionDropdown } from \"react-country-region-selector-material-ui-new\";\nimport './UpdateProfile.css'\nimport Showprofile from './Showprofile';\nimport Profilepic from './Profilepic';\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../actions/userActions\";\n\nconst UpdateProfile = () => {\n    const history = useHistory()\n    const dispatch = useDispatch()\n    const [customerData, setcustomerData] = useState([])\n    const [image, setImage] = useState([])\n    const [url, setUrl] = useState([])\n    const [dob, setDob] = useState([])\n    const [headbg,setheadbg]=useState('transparent');\n    const [shadow,setshadow]=useState('none');\n    const [inputdisplay,setinputdisplay]=useState(0);\n\n\n  window.addEventListener('scroll',()=>{\n    if(window.scrollY>=50){\n      setheadbg('#FFFFFF');\n      setshadow('rgb(226 226 226) 0px -2px 0px inset');\n      setinputdisplay(1);\n\n    }\n    else{\n      setheadbg('transparent');\n      setshadow('none');\n      setinputdisplay(0);\n\n\n    }\n  })\n\n\n  function signout(){\n    dispatch(logout());\n    localStorage.setItem(\"customer\",null);\n    history.push(\"/\")\n  }\n\n    useEffect( () => {\n        const customerId =  JSON.parse(localStorage.getItem(\"customer\")).customerId;\n\n        axios.get(`http://localhost:8081/customerprofile/${customerId}`,{})\n        .then(response => {\n            console.log(\"res\",response);\n            if (response.data.error) {\n                console.log(\"res\",response);\n                M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\n            }\n            else {\n\n                    setcustomerData(response.data[0])\n                    console.log(response.data[0])\n                    //console.log(\"resss \",customerData);\n                    localStorage.setItem('customer', JSON.stringify(response.data[0]));\n\n                    setDob((customerData.DOB == null )? customerData.DOB : customerData.DOB.substr(0,10));\n                \n            }\n        })\n       \n            // console.log(\"res\",response);\n            // if (response.data.error) {\n            //     console.log(\"res\",response.data[0]);\n            //    // M.toast({ html: response.data[0].error, classes: \"#c62828 red darken-3\" })\n            // }\n        \n            \n    }, []\n        );\n\n\nreturn (customerData.email?\n   \n    \n                    <section className=\"section\" id=\"about\">\n                <div className=\"update\" >\n                   \n                    <div className=\"header__upper\">\n                <div className=\"header__upperheader\"  style={{backgroundColor:headbg,boxShadow:shadow}}   >\n                 \n                  <div className=\"header__upperheaderleft\">\n                  <Link to = \"/chome\">\n                     <img\n                         src=\"https://d3i4yxtzktqr9n.cloudfront.net/web-eats-v2/ee037401cb5d31b23cf780808ee4ec1f.svg \"\n                          alt=\"uber eats\" />  </Link>\n                 </div>\n                \n                 {/* <div className=\"header__upperheadercenter\"   >\n                 \n                    <input type=\"text\" placeholder=\"What are you craving? \" />\n                 </div> */}\n\n                 <div className=\"header__upperheaderright\"  onClick={signout}>\n                      <p> Sign out </p>\n                 </div>\n                </div>\n             </div>\n                   \n                    <br />\n                    <br />\n                    <div className= \"details_img\">\n                    <Showprofile />\n                    <Profilepic />\n                    </div>\n                    <div className=\"row\" >\n                    \n                   \n                    {\n                        \n                    \n                        <Formik\n                            style={{ width: '40%' }}\n                            initialValues={{\n                                cname: customerData.cname,\n                                email: customerData.email,\n                                mobileNo : customerData.mobileNo,\n                                city: customerData.city,\n                                stateId: customerData.stateId,\n                                countryId: customerData.countryId,\n                                \n                                DOB: customerData.DOB?customerData.DOB.substr(0,20):null,\n                                nickname: customerData.nickname,\n                                about: customerData.about,\n                                \n                            }}\n                            onSubmit={(values, { setSubmitting, resetForm }) => {\n                                console.log(values)\n                                // if (image) {\n                                //     const data = new FormData()\n                                //     data.append(\"api_key\", '757831828593633');\n                                //     data.append(\"file\", image)\n                                //     data.append(\"upload_preset\", \"l3ihyhha\")\n                                //     data.append(\"cloud_name\", \"du8oeufnp\")\n                                //     fetch(\"https://api.cloudinary.com/v1_1/du8oeufnp/image/upload\", {\n                                //         method: \"post\",\n                                //         body: data\n                                //     }).then(res => res.json())\n                                //         .then(res => {\n                                //             console.log(res + \"Hiii\")\n                                //             setUrl(res.url)\n                                //         })\n                                //         .catch(err => {\n                                //             console.log(err)\n                                //         })\n                                // }\n                                const customerId = JSON.parse(localStorage.getItem(\"customer\")).customerId\n                                console.log(customerId)\n                                axios.post(`http://localhost:8081/customerprofile/updatedetails/`, { customerId ,values: values})\n                                    .then(response => {\n                                        console.log(\"update\",response)\n                                        if (response.data.error) {\n                                            M.toast({ html: response.data.error, classes: \"#c62828 red darken-3\" })\n                                        }\n                                        else {\n                                            console.log(\"update1\",response)\n                                            M.toast({ html: \"Updated customer details successfully\", inDuration: 300,\n                                            outDuration: 375,\n                                            displyLength: 4000,\n                                            classes: \"rounded\", })\n                                        }\n                                    }).catch(err => {\n                                        console.log(err)\n                                    })\n                                //history.push('/chome')\n                            }}>\n                            {({\n                                errors,\n                                handleBlur,\n                                handleChange,\n                                handleSubmit,\n                                isSubmitting,\n                                touched,\n                                values\n                            }) => (\n                                <form id=\"contactForm\" style={{ width: '40%' }} name=\"sentMessage\" onSubmit={handleSubmit}>\n                                    <h4 className=\"font-weight-normal\" style={{ fontFamily: 'UberMoveText-Medium,Helvetica,sans-serif' }}> Update details</h4>\n                                    <br />\n                                    \n                                    <div className=\"row\">\n                                        <div className=\"col-md-12\">\n                                            <div className=\"form-group\">\n                                                <label style={{ width: \"100%\" }}>Customer Name<input required type=\"text\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"cname\"  onBlur={handleBlur} onChange={handleChange} value={values.cname} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}> Email <input required type=\"text\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"email\" onBlur={handleBlur} onChange={handleChange} value={values.email} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>Contact Number <input required type=\"number\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"mobileNo\" onBlur={handleBlur} onChange={handleChange} value={values.mobileNo} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>City <input type=\"text\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"city\" onBlur={handleBlur} onChange={handleChange} value={values.city} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>Country<CountryDropdown style={{ width: \"100%\" }}value={values.countryId} className=\"form-control\" id=\"countryId\" onBlur={handleBlur} onChange= {handleChange(\"countryId\")} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                            <label>State  <RegionDropdown style={{ width: \"100%\" }} country={values.countryId} value={values.stateId} className=\"form-control\" id=\"stateId\" onBlur={handleBlur} onChange={handleChange(\"stateId\") }/></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>Description <input type=\"text\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"about\" onBlur={handleBlur} onChange={handleChange} value={values.about} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>Date of birth <input type=\"date\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"DOB\" onBlur={handleBlur} onChange={handleChange} value={values.DOB} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                            <div className=\"form-group\" >\n                                                <label style={{ width: \"100%\" }}>Nickname <input type=\"text\" style={{ width: \"100%\", borderRadius: 0 }} className=\"form-control\" id=\"nickname\" onBlur={handleBlur} onChange={handleChange} value={values.nickname} /></label>\n                                                <p className=\"help-block text-danger\"></p>\n                                            </div>\n                                    \n                                        </div>\n                                    </div>\n                                    <Button type=\"submit\" className= \"update_button\"style={{ width: \"100%\", borderRadius: 5 }} >\n                                        Save changes\n                                    </Button>\n                                    <br />\n                                    <br />\n                                </form>\n                                \n                            )}\n                        </Formik>\n                        \n}\n                    </div>\n                </div>\n            </section>:<h1></h1> \n        \n\n\n    // <form onSubmit={submit}>\n    //   <input\n    //     type=\"text\"\n    //     name=\"user name \"\n    //     value={customerData.cname}\n    //     onChange={e => setUser({ ...user, name: e.target.value })}\n    //   />\n    //   {user.errors.name && <p>{user.errors.name}</p>}\n\n    //   <input\n    //     type=\"email\"\n    //     name=\"user[email]\"\n    //     value={user.email}\n    //     onChange={e => setUser({ ...user, email: e.target.value })}\n    //   />\n    //   {user.errors.name && <p>{user.errors.name}</p>}\n\n    //   <input type=\"submit\" name=\"Sign Up\" />\n    // </form>\n          \n  )\n}\n  export default UpdateProfile;"]},"metadata":{},"sourceType":"module"}