{"ast":null,"code":"var _jsxFileName = \"/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/Profilepic.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Profilepic.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function postImages({\n  image,\n  customerId\n}) {\n  const formData = new FormData();\n  formData.append(\"image\", image);\n  formData.append(\"customerId\", customerId);\n  console.log(formData);\n  const result = await axios.post('/api/images', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  console.log(\"result\", result);\n  localStorage.setItem('cuspkey', result.data.key);\n  return result.data;\n}\n\nconst Profilepic = () => {\n  _s();\n\n  const [file, setFile] = useState();\n  const [images, setImages] = useState([]);\n\n  const submit = async event => {\n    event.preventDefault();\n    const result = postImages({\n      image: file,\n      customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId\n    });\n    setImages([result.image, ...images]);\n  };\n\n  const fileSelected = event => {\n    const fil = event.target.files[0];\n    setFile(fil);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      className: \"profile_chose\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: fileSelected,\n        type: \"file\",\n        accept: \"image/*\",\n        className: \"profile_browse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"profile_button\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profilepic, \"yhndgRo1ZSafB5lJdPfcjIo219Q=\");\n\n_c = Profilepic;\nexport default Profilepic;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profilepic\");","map":{"version":3,"sources":["/Users/gunjalgupta/Desktop/ubereatss/frontend/src/customer/Profilepic.js"],"names":["React","useState","axios","postImages","image","customerId","formData","FormData","append","console","log","result","post","headers","localStorage","setItem","data","key","Profilepic","file","setFile","images","setImages","submit","event","preventDefault","JSON","parse","getItem","fileSelected","fil","target","files","display","justifyContent"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA6B,OAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,kBAAP;;;AAEA,eAAeC,UAAf,CAA0B;AAACC,EAAAA,KAAD;AAAOC,EAAAA;AAAP,CAA1B,EAA6C;AACzC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;AACAE,EAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BH,UAA9B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,QAAMK,MAAM,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAW,aAAX,EAA0BN,QAA1B,EACrB;AACIO,IAAAA,OAAO,EAAE;AAAC,sBAAgB;AAAjB;AADb,GADqB,CAArB;AAIAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,MAAtB;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCJ,MAAM,CAACK,IAAP,CAAYC,GAA5C;AACA,SAAON,MAAM,CAACK,IAAd;AACH;;AAED,MAAME,UAAU,GAAG,MAAM;AAAA;;AAEvB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,EAAhC;AACD,QAAM,CAACoB,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC,EAAD,CAApC;;AACC,QAAMsB,MAAM,GAAG,MAAOC,KAAP,IAAiB;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMd,MAAM,GAAGR,UAAU,CAAC;AAACC,MAAAA,KAAK,EAACe,IAAP;AAAad,MAAAA,UAAU,EAAEqB,IAAI,CAACC,KAAL,CAAWb,YAAY,CAACc,OAAb,CAAqB,UAArB,CAAX,EAA6CvB;AAAtE,KAAD,CAAzB;AACAiB,IAAAA,SAAS,CAAC,CAACX,MAAM,CAACP,KAAR,EAAe,GAAGiB,MAAlB,CAAD,CAAT;AACH,GAJD;;AAMA,QAAMQ,YAAY,GAAIL,KAAD,IAAW;AAC9B,UAAMM,GAAG,GAAGN,KAAK,CAACO,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;AACAZ,IAAAA,OAAO,CAACU,GAAD,CAAP;AACD,GAHD;;AAIE,sBACI;AAAK,IAAA,KAAK,EAAE;AACRG,MAAAA,OAAO,EAAE,MADD;AAERC,MAAAA,cAAc,EAAE;AAFR,KAAZ;AAAA,2BAII;AAAM,MAAA,QAAQ,EAAEX,MAAhB;AAAwB,MAAA,SAAS,EAAC,eAAlC;AAAA,8BACI;AAAO,QAAA,QAAQ,EAAEM,YAAjB;AAA+B,QAAA,IAAI,EAAC,MAApC;AAA2C,QAAA,MAAM,EAAC,SAAlD;AAA4D,QAAA,SAAS,EAAC;AAAtE;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,gBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CAzBD;;GAAMX,U;;KAAAA,U;AA4BN,eAAeA,UAAf","sourcesContent":["import React, {useState}from 'react';\nimport axios from 'axios';\nimport './Profilepic.css';\n\nasync function postImages({image,customerId}){\n    const formData = new FormData();\n    formData.append(\"image\", image)\n    formData.append(\"customerId\", customerId)\n    console.log(formData);\n    const result = await axios.post('/api/images', formData, \n    { \n        headers: {'Content-Type': 'multipart/form-data'}\n    })\n    console.log(\"result\", result)\n    localStorage.setItem('cuspkey', result.data.key);\n    return result.data;\n}\n\nconst Profilepic = () => {\n    \n  const [file, setFile] = useState();\n const [images, setImages] = useState([])\n  const submit = async (event) => {\n      event.preventDefault()\n      const result = postImages({image:file, customerId: JSON.parse(localStorage.getItem(\"customer\")).customerId})\n      setImages([result.image, ...images])\n  }\n\n  const fileSelected = (event) => {\n    const fil = event.target.files[0]\n    setFile(fil)\n  }\n    return (\n        <div style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n        }}>\n            <form onSubmit={submit} className=\"profile_chose\">\n                <input onChange={fileSelected} type=\"file\" accept=\"image/*\" className=\"profile_browse\"></input>\n                <button type=\"submit\" className=\"profile_button\">Submit</button>\n            </form>\n        </div>\n    )\n}\n\n\nexport default Profilepic;"]},"metadata":{},"sourceType":"module"}